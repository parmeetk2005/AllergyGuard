!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="a51cafc7-922f-4c75-8178-ffc953e24aab",e._sentryDebugIdIdentifier="sentry-dbid-a51cafc7-922f-4c75-8178-ffc953e24aab")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9013],{40230:function(e,t,r){r.d(t,{BH:function(){return w},G6:function(){return _},L:function(){return h},LL:function(){return H},Pz:function(){return m},ZR:function(){return T},aH:function(){return g},b$:function(){return S},eu:function(){return C},hl:function(){return I},m9:function(){return x},ne:function(){return N},pd:function(){return K},q4:function(){return y},ru:function(){return E},tV:function(){return l},uI:function(){return v},vZ:function(){return function e(t,r){if(t===r)return!0;let n=Object.keys(t),i=Object.keys(r);for(let a of n){if(!i.includes(a))return!1;let n=t[a],o=r[a];if(R(n)&&R(o)){if(!e(n,o))return!1}else if(n!==o)return!1}for(let e of i)if(!n.includes(e))return!1;return!0}},w1:function(){return A},xO:function(){return D},xb:function(){return P},z$:function(){return b},zd:function(){return O}});var n=r(25566);let i=function(e){let t=[],r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:(i<2048?t[r++]=i>>6|192:((64512&i)==55296&&n+1<e.length&&(64512&e.charCodeAt(n+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128):t[r++]=i>>12|224,t[r++]=i>>6&63|128),t[r++]=63&i|128)}return t},a=function(e){let t=[],r=0,n=0;for(;r<e.length;){let i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[r++];t[n++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){let a=((7&i)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else{let a=e[r++],o=e[r++];t[n++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,o=a?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,h=i>>2,l=(3&i)<<4|o>>4,u=(15&o)<<2|c>>6,d=63&c;s||(d=64,a||(u=64)),n.push(r[h],r[l],r[u],r[d])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):a(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){let i=r[e.charAt(t++)],a=t<e.length?r[e.charAt(t)]:0,o=++t<e.length?r[e.charAt(t)]:64,c=++t<e.length?r[e.charAt(t)]:64;if(++t,null==i||null==a||null==o||null==c)throw new s;let h=i<<2|a>>4;if(n.push(h),64!==o){let e=a<<4&240|o>>2;if(n.push(e),64!==c){let e=o<<6&192|c;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let c=function(e){let t=i(e);return o.encodeByteArray(t,!0)},h=function(e){return c(e).replace(/\./g,"")},l=function(e){try{return o.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},u=()=>(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,d=()=>{if(void 0===n||void 0===n.env)return;let e=n.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},f=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&l(e[1]);return t&&JSON.parse(t)},p=()=>{try{return u()||d()||f()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},y=e=>{var t,r;return null===(r=null===(t=p())||void 0===t?void 0:t.emulatorHosts)||void 0===r?void 0:r[e]},g=()=>{var e;return null===(e=p())||void 0===e?void 0:e.config},m=e=>{var t;return null===(t=p())||void 0===t?void 0:t[`_${e}`]};class w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function b(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(b())}function E(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function S(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function A(){let e=b();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _(){return!function(){var e;let t=null===(e=p())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(r.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I(){try{return"object"==typeof indexedDB}catch(e){return!1}}function C(){return new Promise((e,t)=>{try{let r=!0,n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}class T extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,T.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,H.prototype.create)}}class H{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},n=`${this.service}/${e}`,i=this.errors[e],a=i?i.replace(k,(e,t)=>{let n=r[t];return null!=n?String(n):`<${t}?>`}):"Error",o=`${this.serviceName}: ${a} (${n}).`;return new T(n,o,r)}}let k=/\{\$([^}]+)}/g;function P(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function R(e){return null!==e&&"object"==typeof e}function D(e){let t=[];for(let[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(e=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function O(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[r,n]=e.split("=");t[decodeURIComponent(r)]=decodeURIComponent(n)}}),t}function K(e){let t=e.indexOf("?");if(!t)return"";let r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function N(e,t){let r=new W(e,t);return r.subscribe.bind(r)}class W{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let n;if(void 0===e&&void 0===t&&void 0===r)throw Error("Missing Observer.");void 0===(n=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:r}:e).next&&(n.next=M),void 0===n.error&&(n.error=M),void 0===n.complete&&(n.complete=M);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}}),this.observers.push(n),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M(){}function x(e){return e&&e._delegate?e._delegate:e}},3337:function(e,t){var r,n,i,a;Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidTokenError=t.InvalidTokenReason=t.AuthError=t.AuthErrorCode=void 0,t.isInvalidTokenError=function(e){return e?.isInvalidTokenError??!1},(i=r||(t.AuthErrorCode=r={})).USER_NOT_FOUND="USER_NOT_FOUND",i.USER_DISABLED="USER_DISABLED",i.INVALID_CREDENTIAL="INVALID_CREDENTIAL",i.TOKEN_EXPIRED="TOKEN_EXPIRED",i.TOKEN_REVOKED="TOKEN_REVOKED",i.INVALID_ARGUMENT="INVALID_ARGUMENT",i.INTERNAL_ERROR="INTERNAL_ERROR",i.NO_KID_IN_HEADER="NO_KID_IN_HEADER",i.INVALID_SIGNATURE="INVALID_SIGNATURE",i.NO_MATCHING_KID="NO_MATCHING_KID",i.MISMATCHING_TENANT_ID="MISMATCHING_TENANT_ID";let o={[r.USER_NOT_FOUND]:"User not found",[r.INVALID_CREDENTIAL]:"Invalid credentials",[r.TOKEN_EXPIRED]:"Token expired",[r.USER_DISABLED]:"User disabled",[r.TOKEN_REVOKED]:"Token revoked",[r.INVALID_ARGUMENT]:"Invalid argument",[r.INTERNAL_ERROR]:"Internal error",[r.NO_KID_IN_HEADER]:"No kid in jwt header",[r.INVALID_SIGNATURE]:"Invalid token signature.",[r.NO_MATCHING_KID]:"Kid is not matching any certificate",[r.MISMATCHING_TENANT_ID]:"Provided tenant ID does not match firebase tenant ID from the token"};function s(e,t){let r="string"==typeof t?.stack?t.stack:"",n="string"==typeof t?.cause?t.cause:"";e.stack=(e?.stack??"")+r,e.cause=(e?.cause??"")+n}class c extends Error{code;static fromError(e,t,r){let n=new c(t,r);return s(n,e),n}constructor(e,t){super(t?`${o[e]}: ${t}`:o[e]),this.code=e,Object.setPrototypeOf(this,c.prototype)}toJSON(){return{code:this.code,message:this.message}}}t.AuthError=c,(a=n||(t.InvalidTokenReason=n={})).MISSING_CREDENTIALS="MISSING_CREDENTIALS",a.MISSING_REFRESH_TOKEN="MISSING_REFRESH_TOKEN",a.MALFORMED_CREDENTIALS="MALFORMED_CREDENTIALS",a.INVALID_SIGNATURE="INVALID_SIGNATURE",a.INVALID_CREDENTIALS="INVALID_CREDENTIALS",a.INVALID_KID="INVALID_KID";let h={[n.MISSING_CREDENTIALS]:"Missing credentials",[n.MALFORMED_CREDENTIALS]:"Credentials are incorrectly formatted",[n.INVALID_SIGNATURE]:"Credentials have invalid signature",[n.MISSING_REFRESH_TOKEN]:"Refresh token is missing",[n.INVALID_CREDENTIALS]:"Invalid credentials",[n.INVALID_KID]:"Token has kid claim that cannot be matched with any known Google certificate. This usually indicates that Google certificates have expired and user has to reauthenticate."};class l extends Error{reason;static fromError(e,t){let r=new l(t);return s(r,e),r}isInvalidTokenError=!0;constructor(e){super(`${e}: ${h[e]}`),this.reason=e,Object.setPrototypeOf(this,l.prototype)}}t.InvalidTokenError=l},46886:function(e,t,r){t.Q9=s;let n=r(61430),i=r(3337);class a{cacheMap={};constructor(){}get(e){return this.cacheMap[e]?this.cacheMap[e]:e}set(e,t){this.cacheMap={[e]:t}}}new a;let o=new a;async function s({serverCustomToken:e,refreshTokenUrl:t,checkRevoked:r}){if(!e)return null;let a=o.get(e),s=(0,n.decodeJwt)(a),c=s?.exp??0;if(!r&&c>Date.now()/1e3)return e;let h=await l(t);if(!h)throw new i.AuthError(i.AuthErrorCode.INTERNAL_ERROR,"Refresh token endpoint returned invalid response. This URL should point to endpoint exposed by the middleware and configured using refreshTokenPath option.");if(!h.customToken)throw new i.AuthError(i.AuthErrorCode.INTERNAL_ERROR,"Refresh token endpoint returned empty custom token. Make sure you have set `enableCustomToken` option to `true` in `authMiddleware`");return o.set(e,h.customToken),h.customToken}async function c(e,t,r){let n=await h(e);return new i.AuthError(i.AuthErrorCode.INTERNAL_ERROR,`next-firebase-auth-edge: Internal request to ${r?.method??"GET"} ${t.toString()} has failed: ${n}`)}function h(e){let t=e.headers.get("content-type");return t&&-1!==t.indexOf("application/json")?e.json():e.text()}async function l(e,t){let r=await fetch(e,{...t,headers:{...t?.headers,Accept:"application/json","Content-Type":"application/json"}});if(!r.ok)throw await c(r,e,t);return h(r)}},24369:function(e,t,r){var n=r(2265),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useState,o=n.useEffect,s=n.useLayoutEffect,c=n.useDebugValue;function h(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),i=n[0].inst,l=n[1];return s(function(){i.value=r,i.getSnapshot=t,h(i)&&l({inst:i})},[e,r,t]),o(function(){return h(i)&&l({inst:i}),e(function(){h(i)&&l({inst:i})})},[e]),c(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:l},92860:function(e,t,r){var n=r(2265),i=r(82558),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useSyncExternalStore,s=n.useRef,c=n.useEffect,h=n.useMemo,l=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var u=s(null);if(null===u.current){var d={hasValue:!1,value:null};u.current=d}else d=u.current;var f=o(e,(u=h(function(){function e(e){if(!c){if(c=!0,o=e,e=n(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var r=n(e);return void 0!==i&&i(t,r)?(o=e,t):(o=e,s=r)}var o,s,c=!1,h=void 0===r?null:r;return[function(){return e(t())},null===h?void 0:function(){return e(h())}]},[t,r,n,i]))[0],u[1]);return c(function(){d.hasValue=!0,d.value=f},[f]),l(f),f}},82558:function(e,t,r){e.exports=r(24369)},35195:function(e,t,r){e.exports=r(92860)},49360:function(e,t,r){let n;r.d(t,{Z:function(){return s}});var i={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let a=new Uint8Array(16),o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));var s=function(e,t,r){if(i.randomUUID&&!t&&!e)return i.randomUUID();let s=(e=e||{}).random||(e.rng||function(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(a)})();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=s[e];return t}return function(e,t=0){return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}(s)}},64801:function(e,t,r){let n,i,a;r.d(t,{ZR:function(){return c.ZR},Jn:function(){return K},qX:function(){return R},Xd:function(){return P},Mq:function(){return W},ZF:function(){return N},KN:function(){return M}});var o=r(78965),s=r(18667),c=r(40230);let h=(e,t)=>t.some(t=>e instanceof t),l=new WeakMap,u=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,y={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return g(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function g(e){var t;if(e instanceof IDBRequest)return function(e){let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(g(e.result)),n()},a=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&l.set(t,e)}).catch(()=>{}),p.set(t,e),t}(e);if(f.has(e))return f.get(e);let r="function"==typeof(t=e)?t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(m(this),e),g(l.get(this))}:function(...e){return g(t.apply(m(this),e))}:function(e,...r){let n=t.call(m(this),e,...r);return d.set(n,e.sort?e.sort():[e]),g(n)}:(t instanceof IDBTransaction&&function(e){if(u.has(e))return;let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),n()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});u.set(e,t)}(t),h(t,n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(t,y):t;return r!==e&&(f.set(e,r),p.set(r,e)),r}let m=e=>p.get(e),w=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],v=new Map;function E(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(v.get(t))return v.get(t);let r=t.replace(/FromIndex$/,""),n=t!==r,i=b.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||w.includes(r)))return;let a=async function(e,...t){let a=this.transaction(e,i?"readwrite":"readonly"),o=a.store;return n&&(o=o.index(t.shift())),(await Promise.all([o[r](...t),i&&a.done]))[0]};return v.set(t,a),a}y={...a=y,get:(e,t,r)=>E(e,t)||a.get(e,t,r),has:(e,t)=>!!E(e,t)||a.has(e,t)};class S{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}let A="@firebase/app",_="0.9.15",I=new s.Yd("@firebase/app"),C="[DEFAULT]",T={[A]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},H=new Map,k=new Map;function P(e){let t=e.name;if(k.has(t))return I.debug(`There were multiple attempts to register component ${t}.`),!1;for(let r of(k.set(t,e),H.values()))!function(e,t){try{e.container.addComponent(t)}catch(r){I.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}(r,e);return!0}function R(e,t){let r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}let D=new c.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class O{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new o.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw D.create("app-deleted",{appName:this._name})}}let K="10.1.0";function N(e,t={}){let r=e;"object"!=typeof t&&(t={name:t});let n=Object.assign({name:C,automaticDataCollectionEnabled:!1},t),i=n.name;if("string"!=typeof i||!i)throw D.create("bad-app-name",{appName:String(i)});if(r||(r=(0,c.aH)()),!r)throw D.create("no-options");let a=H.get(i);if(a){if((0,c.vZ)(r,a.options)&&(0,c.vZ)(n,a.config))return a;throw D.create("duplicate-app",{appName:i})}let s=new o.H0(i);for(let e of k.values())s.addComponent(e);let h=new O(r,n,s);return H.set(i,h),h}function W(e=C){let t=H.get(e);if(!t&&e===C&&(0,c.aH)())return N();if(!t)throw D.create("no-app",{appName:e});return t}function M(e,t,r){var n;let i=null!==(n=T[e])&&void 0!==n?n:e;r&&(i+=`-${r}`);let a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){let e=[`Unable to register library "${i}" with version "${t}":`];a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),I.warn(e.join(" "));return}P(new o.wA(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}let x="firebase-heartbeat-store",U=null;function J(){return U||(U=(function(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){let o=indexedDB.open(e,1),s=g(o);return n&&o.addEventListener("upgradeneeded",e=>{n(g(o.result),e.oldVersion,e.newVersion,g(o.transaction),e)}),r&&o.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{0===t&&e.createObjectStore(x)}}).catch(e=>{throw D.create("idb-open",{originalErrorMessage:e.message})})),U}async function j(e){try{let t=await J();return await t.transaction(x).objectStore(x).get(B(e))}catch(e){if(e instanceof c.ZR)I.warn(e.message);else{let t=D.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});I.warn(t.message)}}}async function L(e,t){try{let r=(await J()).transaction(x,"readwrite"),n=r.objectStore(x);await n.put(t,B(e)),await r.done}catch(e){if(e instanceof c.ZR)I.warn(e.message);else{let t=D.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});I.warn(t.message)}}}function B(e){return`${e.name}!${e.options.appId}`}class ${constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new G(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){let e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=F();return(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))?void 0:(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";let e=F(),{heartbeatsToSend:t,unsentEntries:r}=function(e,t=1024){let r=[],n=e.slice();for(let i of e){let e=r.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),V(r)>t){e.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),V(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),n=(0,c.L)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}}function F(){return new Date().toISOString().substring(0,10)}class G{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,c.hl)()&&(0,c.eu)().then(()=>!0).catch(()=>!1)}async read(){return await this._canUseIndexedDBPromise&&await j(this.app)||{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let r=await this.read();return L(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let r=await this.read();return L(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}}}function V(e){return(0,c.L)(JSON.stringify({version:2,heartbeats:e})).length}P(new o.wA("platform-logger",e=>new S(e),"PRIVATE")),P(new o.wA("heartbeat",e=>new $(e),"PRIVATE")),M(A,_,""),M(A,_,"esm2017"),M("fire-js","")},78965:function(e,t,r){r.d(t,{H0:function(){return s},wA:function(){return i}});var n=r(40230);class i{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}let a="[DEFAULT]";class o{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new n.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(n)return null;throw e}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:a})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(e){}}}}clearInstance(e=a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=a){return this.instances.has(e)}getOptions(e=a){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[e,t]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(e)&&t.resolve(n);return n}onInit(e,t){var r;let n=this.normalizeInstanceIdentifier(t),i=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;i.add(e),this.onInitCallbacks.set(n,i);let a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let n of r)try{n(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:e===a?void 0:e,options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(e){}return r||null}normalizeInstanceIdentifier(e=a){return this.component?this.component.multipleInstances?e:a:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class s{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new o(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},18667:function(e,t,r){var n,i;r.d(t,{Yd:function(){return l},in:function(){return n}});let a=[];(i=n||(n={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";let o={debug:n.DEBUG,verbose:n.VERBOSE,info:n.INFO,warn:n.WARN,error:n.ERROR,silent:n.SILENT},s=n.INFO,c={[n.DEBUG]:"log",[n.VERBOSE]:"log",[n.INFO]:"info",[n.WARN]:"warn",[n.ERROR]:"error"},h=(e,t,...r)=>{if(t<e.logLevel)return;let n=new Date().toISOString(),i=c[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class l{constructor(e){this.name=e,this._logLevel=s,this._logHandler=h,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in n))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,n.DEBUG,...e),this._logHandler(this,n.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,n.VERBOSE,...e),this._logHandler(this,n.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,n.INFO,...e),this._logHandler(this,n.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,n.WARN,...e),this._logHandler(this,n.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,n.ERROR,...e),this._logHandler(this,n.ERROR,...e)}}},49668:function(e,t,r){r.d(t,{FJ:function(){return rM},JJ:function(){return r$},UE:function(){return rW},V8:function(){return rF},ii:function(){return rB},jK:function(){return rx},ju:function(){return rJ},kN:function(){return rj},tw:function(){return rU},z8:function(){return rG},zI:function(){return rL}});var n,i,a,o,s,c={},h=h||{},l=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{})||self;function u(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function d(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function f(e,t,r){return e.call.apply(e.bind,arguments)}function p(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function y(e,t,r){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:p).apply(null,arguments)}function g(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function m(e,t){function r(){}r.prototype=t.prototype,e.$=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.ac=function(e,r,n){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[r].apply(e,i)}}function w(){this.s=this.s,this.o=this.o}w.prototype.s=!1,w.prototype.sa=function(){this.s||(this.s=!0,this.N())},w.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};let b=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let r=0;r<e.length;r++)if(r in e&&e[r]===t)return r;return -1};function v(e){let t=e.length;if(0<t){let r=Array(t);for(let n=0;n<t;n++)r[n]=e[n];return r}return[]}function E(e,t){for(let t=1;t<arguments.length;t++){let r=arguments[t];if(u(r)){let t=e.length||0,n=r.length||0;e.length=t+n;for(let i=0;i<n;i++)e[t+i]=r[i]}else e.push(r)}}function S(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}S.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{l.addEventListener("test",()=>{},t),l.removeEventListener("test",()=>{},t)}catch(e){}return e}();function _(e){return/^[\s\xa0]*$/.test(e)}function I(){var e=l.navigator;return e&&(e=e.userAgent)?e:""}function C(e){return -1!=I().indexOf(e)}function T(e){return T[" "](e),e}T[" "]=function(){};var H=C("Opera"),k=C("Trident")||C("MSIE"),P=C("Edge"),R=P||k,D=C("Gecko")&&!(-1!=I().toLowerCase().indexOf("webkit")&&!C("Edge"))&&!(C("Trident")||C("MSIE"))&&!C("Edge"),O=-1!=I().toLowerCase().indexOf("webkit")&&!C("Edge");function K(){var e=l.document;return e?e.documentMode:void 0}e:{var N,W="",M=(N=I(),D?/rv:([^\);]+)(\)|;)/.exec(N):P?/Edge\/([\d\.]+)/.exec(N):k?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(N):O?/WebKit\/(\S+)/.exec(N):H?/(?:Version)[ \/]?(\S+)/.exec(N):void 0);if(M&&(W=M?M[1]:""),k){var x=K();if(null!=x&&x>parseFloat(W)){i=String(x);break e}}i=W}var U=l.document&&k&&(K()||parseInt(i,10))||void 0;function J(e,t){if(S.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var r=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(D){e:{try{T(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==r?t=e.fromElement:"mouseout"==r&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:j[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&J.$.h.call(this)}}m(J,S);var j={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),B=0;function $(e,t,r,n,i){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!n,this.la=i,this.key=++B,this.fa=this.ia=!1}function F(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function G(e,t,r){for(let n in e)t.call(r,e[n],n,e)}function V(e){let t={};for(let r in e)t[r]=e[r];return t}let z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(e,t){let r,n;for(let t=1;t<arguments.length;t++){for(r in n=arguments[t])e[r]=n[r];for(let t=0;t<z.length;t++)r=z[t],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}function Y(e){this.src=e,this.g={},this.h=0}function q(e,t){var r=t.type;if(r in e.g){var n,i=e.g[r],a=b(i,t);(n=0<=a)&&Array.prototype.splice.call(i,a,1),n&&(F(t),0==e.g[r].length&&(delete e.g[r],e.h--))}}function Z(e,t,r,n){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&!!r==a.capture&&a.la==n)return i}return -1}Y.prototype.add=function(e,t,r,n,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Z(e,t,n,i);return -1<o?(t=e[o],r||(t.ia=!1)):((t=new $(t,this.src,a,!!n,i)).ia=r,e.push(t)),t};var Q="closure_lm_"+(1e6*Math.random()|0),ee={};function et(e,t,r,n,i,a){if(!t)throw Error("Invalid event type");var o=d(i)?!!i.capture:!!i,s=ea(e);if(s||(e[Q]=s=new Y(e)),(r=s.add(t,r,n,o,a)).proxy)return r;if(n=function e(t){return ei.call(e.src,e.listener,t)},r.proxy=n,n.src=e,n.listener=r,e.addEventListener)A||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),n,i);else if(e.attachEvent)e.attachEvent(en(t.toString()),n);else if(e.addListener&&e.removeListener)e.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return r}function er(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[L])q(t.i,e);else{var r=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(r,n,e.capture):t.detachEvent?t.detachEvent(en(r),n):t.addListener&&t.removeListener&&t.removeListener(n),(r=ea(t))?(q(r,e),0==r.h&&(r.src=null,t[Q]=null)):F(e)}}}function en(e){return e in ee?ee[e]:ee[e]="on"+e}function ei(e,t){if(e.fa)e=!0;else{t=new J(t,this);var r=e.listener,n=e.la||e.src;e.ia&&er(e),e=r.call(n,t)}return e}function ea(e){return(e=e[Q])instanceof Y?e:null}var eo="__closure_events_fn_"+(1e9*Math.random()>>>0);function es(e){return"function"==typeof e?e:(e[eo]||(e[eo]=function(t){return e.handleEvent(t)}),e[eo])}function ec(){w.call(this),this.i=new Y(this),this.S=this,this.J=null}function eh(e,t){var r,n=e.J;if(n)for(r=[];n;n=n.J)r.push(n);if(e=e.S,n=t.type||t,"string"==typeof t)t=new S(t,e);else if(t instanceof S)t.target=t.target||e;else{var i=t;X(t=new S(n,e),i)}if(i=!0,r)for(var a=r.length-1;0<=a;a--){var o=t.g=r[a];i=el(o,n,!0,t)&&i}if(i=el(o=t.g=e,n,!0,t)&&i,i=el(o,n,!1,t)&&i,r)for(a=0;a<r.length;a++)i=el(o=t.g=r[a],n,!1,t)&&i}function el(e,t,r,n){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==r){var s=o.listener,c=o.la||o.src;o.ia&&q(e.i,o),i=!1!==s.call(c,n)&&i}}return i&&!n.defaultPrevented}m(ec,w),ec.prototype[L]=!0,ec.prototype.removeEventListener=function(e,t,r,n){!function e(t,r,n,i,a){if(Array.isArray(r))for(var o=0;o<r.length;o++)e(t,r[o],n,i,a);else(i=d(i)?!!i.capture:!!i,n=es(n),t&&t[L])?(t=t.i,(r=String(r).toString())in t.g&&-1<(n=Z(o=t.g[r],n,i,a))&&(F(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[r],t.h--))):t&&(t=ea(t))&&(r=t.g[r.toString()],t=-1,r&&(t=Z(r,n,i,a)),(n=-1<t?r[t]:null)&&er(n))}(this,e,t,r,n)},ec.prototype.N=function(){if(ec.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var r=t.g[e],n=0;n<r.length;n++)F(r[n]);delete t.g[e],t.h--}}this.J=null},ec.prototype.O=function(e,t,r,n){return this.i.add(String(e),t,!1,r,n)},ec.prototype.P=function(e,t,r,n){return this.i.add(String(e),t,!0,r,n)};var eu=l.JSON.stringify;class ed{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}class ef{constructor(){this.h=this.g=null}add(e,t){let r=ep.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var ep=new ed(()=>new ey,e=>e.reset());class ey{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let eg,em=!1,ew=new ef,eb=()=>{let e=l.Promise.resolve(void 0);eg=()=>{e.then(ev)}};var ev=()=>{let e;for(var t;e=null,ew.g&&(e=ew.g,ew.g=ew.g.next,ew.g||(ew.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(e){!function(e){l.setTimeout(()=>{throw e},0)}(e)}ep.j(t),100>ep.h&&(ep.h++,t.next=ep.g,ep.g=t)}em=!1};function eE(e,t){ec.call(this),this.h=e||1,this.g=t||l,this.j=y(this.qb,this),this.l=Date.now()}function eS(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function eA(e,t,r){if("function"==typeof e)r&&(e=y(e,r));else if(e&&"function"==typeof e.handleEvent)e=y(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:l.setTimeout(e,t||0)}m(eE,ec),(s=eE.prototype).ga=!1,s.T=null,s.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),eh(this,"tick"),this.ga&&(eS(this),this.start()))}},s.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},s.N=function(){eE.$.N.call(this),eS(this),delete this.g};class e_ extends w{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=eA(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.j);let r=t.h;t.h=null,t.m.apply(null,r)}(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eI(e){w.call(this),this.h=e,this.g={}}m(eI,w);var eC=[];function eT(e,t,r,n){Array.isArray(r)||(r&&(eC[0]=r.toString()),r=eC);for(var i=0;i<r.length;i++){var a=function e(t,r,n,i,a){if(i&&i.once)return function e(t,r,n,i,a){if(Array.isArray(r)){for(var o=0;o<r.length;o++)e(t,r[o],n,i,a);return null}return n=es(n),t&&t[L]?t.P(r,n,d(i)?!!i.capture:!!i,a):et(t,r,n,!0,i,a)}(t,r,n,i,a);if(Array.isArray(r)){for(var o=0;o<r.length;o++)e(t,r[o],n,i,a);return null}return n=es(n),t&&t[L]?t.O(r,n,d(i)?!!i.capture:!!i,a):et(t,r,n,!1,i,a)}(t,r[i],n||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function eH(e){G(e.g,function(e,t){this.g.hasOwnProperty(t)&&er(e)},e),e.g={}}function ek(){this.g=!0}function eP(e,t,r,n){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var r=JSON.parse(t);if(r){for(e=0;e<r.length;e++)if(Array.isArray(r[e])){var n=r[e];if(!(2>n.length)){var i=n[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}}return eu(r)}catch(e){return t}}(e,r)+(n?" "+n:"")})}eI.prototype.N=function(){eI.$.N.call(this),eH(this)},eI.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ek.prototype.Ea=function(){this.g=!1},ek.prototype.info=function(){};var eR={},eD=null;function eO(){return eD=eD||new ec}function eK(e){S.call(this,eR.Ta,e)}function eN(e){let t=eO();eh(t,new eK(t))}function eW(e,t){S.call(this,eR.STAT_EVENT,e),this.stat=t}function eM(e){let t=eO();eh(t,new eW(t,e))}function ex(e,t){S.call(this,eR.Ua,e),this.size=t}function eU(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){e()},t)}eR.Ta="serverreachability",m(eK,S),eR.STAT_EVENT="statevent",m(eW,S),eR.Ua="timingevent",m(ex,S);var eJ={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ej={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function eL(){}function eB(e){return e.h||(e.h=e.i())}function e$(){}eL.prototype.h=null;var eF={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function eG(){S.call(this,"d")}function eV(){S.call(this,"c")}function ez(){}function eX(e,t,r,n){this.l=e,this.j=t,this.m=r,this.W=n||1,this.U=new eI(this),this.P=eq,e=R?125:void 0,this.V=new eE(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new eY}function eY(){this.i=null,this.g="",this.h=!1}m(eG,S),m(eV,S),m(ez,eL),ez.prototype.g=function(){return new XMLHttpRequest},ez.prototype.i=function(){return{}},o=new ez;var eq=45e3,eZ={},eQ={};function e2(e,t,r){e.L=1,e.v=tc(tn(t)),e.s=r,e.S=!0,e0(e,null)}function e0(e,t){e.G=Date.now(),e9(e),e.A=tn(e.v);var r=e.A,n=e.W;Array.isArray(n)||(n=[String(n)]),tE(r.i,"t",n),e.C=0,r=e.l.J,e.h=new eY,e.g=rl(e.l,r?t:null,!e.s),0<e.O&&(e.M=new e_(y(e.Pa,e,e.g),e.O)),eT(e.U,e.g,"readystatechange",e.nb),t=e.I?V(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),eN(),function(e,t,r,n,i,a){e.info(function(){if(e.g){if(a)for(var o="",s=a.split("&"),c=0;c<s.length;c++){var h=s[c].split("=");if(1<h.length){var l=h[0];h=h[1];var u=l.split("_");o=2<=u.length&&"type"==u[1]?o+(l+"=")+h+"&":o+(l+"=redacted&")}}else o=null}else o=a;return"XMLHTTP REQ ("+n+") [attempt "+i+"]: "+t+"\n"+r+"\n"+o})}(e.j,e.u,e.A,e.m,e.W,e.s)}function e1(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.l.Ha}function e4(e,t,r){let n=!0,i;for(;!e.J&&e.C<r.length;)if((i=function(e,t){var r=e.C,n=t.indexOf("\n",r);return -1==n?eQ:isNaN(r=Number(t.substring(r,n)))?eZ:(n+=1)+r>t.length?eQ:(t=t.slice(n,n+r),e.C=n+r,t)}(e,r))==eQ){4==t&&(e.o=4,eM(14),n=!1),eP(e.j,e.m,null,"[Incomplete Response]");break}else if(i==eZ){e.o=4,eM(15),eP(e.j,e.m,r,"[Invalid Chunk]"),n=!1;break}else eP(e.j,e.m,i,null),e7(e,i);e1(e)&&i!=eQ&&i!=eZ&&(e.h.g="",e.C=0),4!=t||0!=r.length||e.h.h||(e.o=1,eM(16),n=!1),e.i=e.i&&n,n?0<r.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),rr(t),t.M=!0,eM(11))):(eP(e.j,e.m,r,"[Invalid Chunked Response]"),e8(e),e3(e))}function e9(e){e.Y=Date.now()+e.P,e5(e,e.P)}function e5(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=eU(y(e.lb,e),t)}function e6(e){e.B&&(l.clearTimeout(e.B),e.B=null)}function e3(e){0==e.l.H||e.J||ra(e.l,e)}function e8(e){e6(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,eS(e.V),eH(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function e7(e,t){try{var r=e.l;if(0!=r.H&&(r.g==e||tH(r.i,e))){if(!e.K&&tH(r.i,e)&&3==r.H){try{var n=r.Ja.g.parse(t)}catch(e){n=null}if(Array.isArray(n)&&3==n.length){var i=n;if(0==i[0]){e:if(!r.u){if(r.g){if(r.g.G+3e3<e.G)ri(r),t9(r);else break e}rt(r),eM(18)}}else r.Fa=i[1],0<r.Fa-r.V&&37500>i[2]&&r.G&&0==r.A&&!r.v&&(r.v=eU(y(r.ib,r),6e3));if(1>=tT(r.i)&&r.oa){try{r.oa()}catch(e){}r.oa=void 0}}else rs(r,11)}else if((e.K||r.g==e)&&ri(r),!_(t))for(i=r.Ja.g.parse(t),t=0;t<i.length;t++){let s=i[t];if(r.V=s[0],s=s[1],2==r.H){if("c"==s[0]){r.K=s[1],r.pa=s[2];let t=s[3];null!=t&&(r.ra=t,r.l.info("VER="+r.ra));let i=s[4];null!=i&&(r.Ga=i,r.l.info("SVER="+r.Ga));let c=s[5];null!=c&&"number"==typeof c&&0<c&&(n=1.5*c,r.L=n,r.l.info("backChannelRequestTimeoutMs_="+n)),n=r;let h=e.g;if(h){let e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=n.i;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(tk(a,a.h),a.h=null))}if(n.F){let e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(n.Da=e,ts(n.I,n.F,e))}}if(r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-e.G,r.l.info("Handshake RTT: "+r.S+"ms")),(n=r).wa=rh(n,n.J?n.pa:null,n.Y),e.K){tP(n.i,e);var o=n.L;o&&e.setTimeout(o),e.B&&(e6(e),e9(e)),n.g=e}else re(n);0<r.j.length&&t6(r)}else"stop"!=s[0]&&"close"!=s[0]||rs(r,7)}else 3==r.H&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?rs(r,7):t4(r):"noop"!=s[0]&&r.h&&r.h.Aa(s),r.A=0)}}eN(4)}catch(e){}}function te(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(u(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var r=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(u(e)||"string"==typeof e){var t=[];e=e.length;for(var r=0;r<e;r++)t.push(r);return t}for(let n in t=[],r=0,e)t[r++]=n;return t}}}(e),n=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(u(e)){for(var t=[],r=e.length,n=0;n<r;n++)t.push(e[n]);return t}for(n in t=[],r=0,e)t[r++]=e[n];return t}(e),i=n.length,a=0;a<i;a++)t.call(void 0,n[a],r&&r[a],e)}(s=eX.prototype).setTimeout=function(e){this.P=e},s.nb=function(e){e=e.target;let t=this.M;t&&3==tq(e)?t.l():this.Pa(e)},s.Pa=function(e){try{if(e==this.g)e:{let u=tq(this.g);var t=this.g.Ia();let d=this.g.da();if(!(3>u)&&(3!=u||R||this.g&&(this.h.h||this.g.ja()||tZ(this.g)))){this.J||4!=u||7==t||(8==t||0>=d?eN(3):eN(2)),e6(this);var r=this.g.da();this.ca=r;t:if(e1(this)){var n=tZ(this.g);e="";var i=n.length,a=4==tq(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){e8(this),e3(this);var o="";break t}this.h.i=new l.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(n[t],{stream:a&&t==i-1});n.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==r,function(e,t,r,n,i,a,o){e.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+i+"]: "+t+"\n"+r+"\n"+a+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(s)){var h=s;break t}}h=null}if(r=h)eP(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,e7(this,r);else{this.i=!1,this.o=3,eM(12),e8(this),e3(this);break e}}this.S?(e4(this,u,o),R&&this.i&&3==u&&(eT(this.U,this.V,"tick",this.mb),this.V.start())):(eP(this.j,this.m,o,null),e7(this,o)),4==u&&e8(this),this.i&&!this.J&&(4==u?ra(this.l,this):(this.i=!1,e9(this)))}else(function(e){let t={};e=(e.g&&2<=tq(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<e.length;n++){if(_(e[n]))continue;var r=function(e){var t=1;e=e.split(":");let r=[];for(;0<t&&e.length;)r.push(e.shift()),t--;return e.length&&r.push(e.join(":")),r}(e[n]);let i=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();let a=t[i]||[];t[i]=a,a.push(r)}!function(e,t){for(let r in e)t.call(void 0,e[r],r,e)}(t,function(e){return e.join(", ")})})(this.g),400==r&&0<o.indexOf("Unknown SID")?(this.o=3,eM(12)):(this.o=0,eM(13)),e8(this),e3(this)}}}catch(e){}finally{}},s.mb=function(){if(this.g){var e=tq(this.g),t=this.g.ja();this.C<t.length&&(e6(this),e4(this,e,t),this.i&&4!=e&&e9(this))}},s.cancel=function(){this.J=!0,e8(this)},s.lb=function(){this.B=null;let e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(eN(),eM(17)),e8(this),this.o=2,e3(this)):e5(this,this.Y-e)};var tt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tr(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof tr){this.h=e.h,ti(this,e.j),this.s=e.s,this.g=e.g,ta(this,e.m),this.l=e.l;var t=e.i,r=new tm;r.i=t.i,t.g&&(r.g=new Map(t.g),r.h=t.h),to(this,r),this.o=e.o}else e&&(t=String(e).match(tt))?(this.h=!1,ti(this,t[1]||"",!0),this.s=th(t[2]||""),this.g=th(t[3]||"",!0),ta(this,t[4]),this.l=th(t[5]||"",!0),to(this,t[6]||"",!0),this.o=th(t[7]||"")):(this.h=!1,this.i=new tm(null,this.h))}function tn(e){return new tr(e)}function ti(e,t,r){e.j=r?th(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ta(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function to(e,t,r){var n,i;t instanceof tm?(e.i=t,n=e.i,(i=e.h)&&!n.j&&(tw(n),n.i=null,n.g.forEach(function(e,t){var r=t.toLowerCase();t!=r&&(tb(this,t),tE(this,r,e))},n)),n.j=i):(r||(t=tl(t,ty)),e.i=new tm(t,e.h))}function ts(e,t,r){e.i.set(t,r)}function tc(e){return ts(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function th(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function tl(e,t,r){return"string"==typeof e?(e=encodeURI(e).replace(t,tu),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function tu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}tr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(tl(t,td,!0),":");var r=this.g;return(r||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(tl(t,td,!0),"@"),e.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&e.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&e.push("/"),e.push(tl(r,"/"==r.charAt(0)?tp:tf,!0))),(r=this.i.toString())&&e.push("?",r),(r=this.o)&&e.push("#",tl(r,tg)),e.join("")};var td=/[#\/\?@]/g,tf=/[#\?:]/g,tp=/[#\?]/g,ty=/[#\?@]/g,tg=/#/g;function tm(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function tw(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var r=0;r<e.length;r++){var n=e[r].indexOf("="),i=null;if(0<=n){var a=e[r].substring(0,n);i=e[r].substring(n+1)}else a=e[r];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,r){e.add(decodeURIComponent(t.replace(/\+/g," ")),r)}))}function tb(e,t){tw(e),t=tS(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tv(e,t){return tw(e),t=tS(e,t),e.g.has(t)}function tE(e,t,r){tb(e,t),0<r.length&&(e.i=null,e.g.set(tS(e,t),v(r)),e.h+=r.length)}function tS(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(s=tm.prototype).add=function(e,t){tw(this),this.i=null,e=tS(this,e);var r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(t),this.h+=1,this},s.forEach=function(e,t){tw(this),this.g.forEach(function(r,n){r.forEach(function(r){e.call(t,r,n,this)},this)},this)},s.ta=function(){tw(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),r=[];for(let n=0;n<t.length;n++){let i=e[n];for(let e=0;e<i.length;e++)r.push(t[n])}return r},s.Z=function(e){tw(this);let t=[];if("string"==typeof e)tv(this,e)&&(t=t.concat(this.g.get(tS(this,e))));else{e=Array.from(this.g.values());for(let r=0;r<e.length;r++)t=t.concat(e[r])}return t},s.set=function(e,t){return tw(this),this.i=null,tv(this,e=tS(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},s.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},s.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(var r=0;r<t.length;r++){var n=t[r];let a=encodeURIComponent(String(n)),o=this.Z(n);for(n=0;n<o.length;n++){var i=a;""!==o[n]&&(i+="="+encodeURIComponent(String(o[n]))),e.push(i)}}return this.i=e.join("&")};var tA=class{constructor(e,t){this.g=e,this.map=t}};function t_(e){this.l=e||tI,e=l.PerformanceNavigationTiming?0<(e=l.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(l.g&&l.g.Ka&&l.g.Ka()&&l.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tI=10;function tC(e){return!!e.h||!!e.g&&e.g.size>=e.j}function tT(e){return e.h?1:e.g?e.g.size:0}function tH(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function tk(e,t){e.g?e.g.add(t):e.h=t}function tP(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function tR(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let r of e.g.values())t=t.concat(r.F);return t}return v(e.i)}t_.prototype.cancel=function(){if(this.i=tR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}};var tD=class{stringify(e){return l.JSON.stringify(e,void 0)}parse(e){return l.JSON.parse(e,void 0)}};function tO(){this.g=new tD}function tK(e,t,r,n,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(n)}catch(e){}}function tN(e){this.l=e.fc||null,this.j=e.ob||!1}function tW(e,t){ec.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=tM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}m(tN,eL),tN.prototype.g=function(){return new tW(this.l,this.j)},tN.prototype.i=(n={},function(){return n}),m(tW,ec);var tM=0;function tx(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function tU(e){e.readyState=4,e.l=null,e.j=null,e.A=null,tJ(e)}function tJ(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(s=tW.prototype).open=function(e,t){if(this.readyState!=tM)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,tJ(this)},s.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||l).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},s.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tU(this)),this.readyState=tM},s.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tJ(this)),this.g&&(this.readyState=3,tJ(this),this.g))){if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==l.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tx(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))}},s.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tU(this):tJ(this),3==this.readyState&&tx(this)}},s.Za=function(e){this.g&&(this.response=this.responseText=e,tU(this))},s.Ya=function(e){this.g&&(this.response=e,tU(this))},s.ka=function(){this.g&&tU(this)},s.setRequestHeader=function(e,t){this.v.append(e,t)},s.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var r=t.next();!r.done;)e.push((r=r.value)[0]+": "+r[1]),r=t.next();return e.join("\r\n")},Object.defineProperty(tW.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var tj=l.JSON.parse;function tL(e){ec.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=tB,this.L=this.M=!1}m(tL,ec);var tB="",t$=/^https?$/i,tF=["POST","PUT"];function tG(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,tV(e),tX(e)}function tV(e){e.F||(e.F=!0,eh(e,"complete"),eh(e,"error"))}function tz(e){if(e.h&&void 0!==h&&(!e.C[1]||4!=tq(e)||2!=e.da())){if(e.v&&4==tq(e))eA(e.La,0,e);else if(eh(e,"readystatechange"),4==tq(e)){e.h=!1;try{let o=e.da();switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,r,n=!0;break;default:n=!1}if(!(t=n)){if(r=0===o){var i=String(e.I).match(tt)[1]||null;!i&&l.self&&l.self.location&&(i=l.self.location.protocol.slice(0,-1)),r=!t$.test(i?i.toLowerCase():"")}t=r}if(t)eh(e,"complete"),eh(e,"success");else{e.m=6;try{var a=2<tq(e)?e.g.statusText:""}catch(e){a=""}e.j=a+" ["+e.da()+"]",tV(e)}}finally{tX(e)}}}}function tX(e,t){if(e.g){tY(e);let r=e.g,n=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||eh(e,"ready");try{r.onreadystatechange=n}catch(e){}}}function tY(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(l.clearTimeout(e.A),e.A=null)}function tq(e){return e.g?e.g.readyState:0}function tZ(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case tB:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tQ(e){let t="";return G(e,function(e,r){t+=r+":"+e+"\r\n"}),t}function t2(e,t,r){e:{for(n in r){var n=!1;break e}n=!0}n||(r=tQ(r),"string"==typeof e?null!=r&&encodeURIComponent(String(r)):ts(e,t,r))}function t0(e,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||t}function t1(e){this.Ga=0,this.j=[],this.l=new ek,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=t0("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=t0("baseRetryDelayMs",5e3,e),this.hb=t0("retryDelaySeedMs",1e4,e),this.eb=t0("forwardChannelMaxRetries",2,e),this.xa=t0("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new t_(e&&e.concurrentRequestLimit),this.Ja=new tO,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function t4(e){if(t5(e),3==e.H){var t=e.W++,r=tn(e.I);if(ts(r,"SID",e.K),ts(r,"RID",t),ts(r,"TYPE","terminate"),t8(e,r),(t=new eX(e,e.l,t)).L=2,t.v=tc(tn(r)),r=!1,l.navigator&&l.navigator.sendBeacon)try{r=l.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!r&&l.Image&&((new Image).src=t.v,r=!0),r||(t.g=rl(t.l,null),t.g.ha(t.v)),t.G=Date.now(),e9(t)}rc(e)}function t9(e){e.g&&(rr(e),e.g.cancel(),e.g=null)}function t5(e){t9(e),e.u&&(l.clearTimeout(e.u),e.u=null),ri(e),e.i.cancel(),e.m&&("number"==typeof e.m&&l.clearTimeout(e.m),e.m=null)}function t6(e){if(!tC(e.i)&&!e.m){e.m=!0;var t=e.Na;eg||eb(),em||(eg(),em=!0),ew.add(t,e),e.C=0}}function t3(e,t){var r;r=t?t.m:e.W++;let n=tn(e.I);ts(n,"SID",e.K),ts(n,"RID",r),ts(n,"AID",e.V),t8(e,n),e.o&&e.s&&t2(n,e.o,e.s),r=new eX(e,e.l,r,e.C+1),null===e.o&&(r.I=e.s),t&&(e.j=t.F.concat(e.j)),t=t7(e,r,1e3),r.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),tk(e.i,r),e2(r,n,t)}function t8(e,t){e.na&&G(e.na,function(e,r){ts(t,r,e)}),e.h&&te({},function(e,r){ts(t,r,e)})}function t7(e,t,r){r=Math.min(e.j.length,r);var n=e.h?y(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){let e=["count="+r];-1==t?0<r?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<r;o++){let r=i[o].g,s=i[o].map;if(0>(r-=t))t=Math.max(0,i[o].g-100),a=!1;else try{!function(e,t,r){let n=r||"";try{te(e,function(e,r){let i=e;d(e)&&(i=eu(e)),t.push(n+r+"="+encodeURIComponent(i))})}catch(e){throw t.push(n+"type="+encodeURIComponent("_badmap")),e}}(s,e,"req"+r+"_")}catch(e){n&&n(s)}}if(a){n=e.join("&");break e}}}return e=e.j.splice(0,r),t.F=e,n}function re(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;eg||eb(),em||(eg(),em=!0),ew.add(t,e),e.A=0}}function rt(e){return!e.g&&!e.u&&!(3<=e.A)&&(e.ba++,e.u=eU(y(e.Ma,e),ro(e,e.A)),e.A++,!0)}function rr(e){null!=e.B&&(l.clearTimeout(e.B),e.B=null)}function rn(e){e.g=new eX(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=tn(e.wa);ts(t,"RID","rpc"),ts(t,"SID",e.K),ts(t,"AID",e.V),ts(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ts(t,"TO",e.qa),ts(t,"TYPE","xmlhttp"),t8(e,t),e.o&&e.s&&t2(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var r=e.g;e=e.pa,r.L=1,r.v=tc(tn(t)),r.s=null,r.S=!0,e0(r,e)}function ri(e){null!=e.v&&(l.clearTimeout(e.v),e.v=null)}function ra(e,t){var r=null;if(e.g==t){ri(e),rr(e),e.g=null;var n=2}else{if(!tH(e.i,t))return;r=t.F,tP(e.i,t),n=1}if(0!=e.H){if(t.i){if(1==n){r=t.s?t.s.length:0,t=Date.now()-t.G;var i,a=e.C;eh(n=eO(),new ex(n,r)),t6(e)}else re(e)}else if(3==(a=t.o)||0==a&&0<t.ca||!(1==n&&(i=t,!(tT(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=i.F.concat(e.j),!0):1!=e.H&&2!=e.H&&!(e.C>=(e.cb?0:e.eb))&&(e.m=eU(y(e.Na,e,i),ro(e,e.C)),e.C++,!0)))||2==n&&rt(e)))switch(r&&0<r.length&&((t=e.i).i=t.i.concat(r)),a){case 1:rs(e,5);break;case 4:rs(e,10);break;case 3:rs(e,6);break;default:rs(e,2)}}}function ro(e,t){let r=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(r*=2),r*t}function rs(e,t){if(e.l.info("Error code "+t),2==t){var r=null;e.h&&(r=null);var n=y(e.pb,e);r||(r=new tr("//www.google.com/images/cleardot.gif"),l.location&&"http"==l.location.protocol||ti(r,"https"),tc(r)),function(e,t){let r=new ek;if(l.Image){let n=new Image;n.onload=g(tK,r,n,"TestLoadImage: loaded",!0,t),n.onerror=g(tK,r,n,"TestLoadImage: error",!1,t),n.onabort=g(tK,r,n,"TestLoadImage: abort",!1,t),n.ontimeout=g(tK,r,n,"TestLoadImage: timeout",!1,t),l.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=e}else t(!1)}(r.toString(),n)}else eM(2);e.H=0,e.h&&e.h.za(t),rc(e),t5(e)}function rc(e){if(e.H=0,e.ma=[],e.h){let t=tR(e.i);(0!=t.length||0!=e.j.length)&&(E(e.ma,t),E(e.ma,e.j),e.i.i.length=0,v(e.j),e.j.length=0),e.h.ya()}}function rh(e,t,r){var n=r instanceof tr?tn(r):new tr(r);if(""!=n.g)t&&(n.g=t+"."+n.g),ta(n,n.m);else{var i=l.location;n=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new tr(null);n&&ti(a,n),t&&(a.g=t),i&&ta(a,i),r&&(a.l=r),n=a}return r=e.F,t=e.Da,r&&t&&ts(n,r,t),ts(n,"VER",e.ra),t8(e,n),n}function rl(e,t,r){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new tL(r&&e.Ha&&!e.va?new tN({ob:!0}):e.va)).Oa(e.J),t}function ru(){}function rd(){if(k&&!(10<=Number(U)))throw Error("Environmental error: no available transport.")}function rf(e,t){ec.call(this),this.g=new t1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!_(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new rg(this)}function rp(e){eG.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(let r in t){e=r;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ry(){eV.call(this),this.status=1}function rg(e){this.g=e}function rm(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function rw(e,t,r){r||(r=0);var n=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)n[i]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(i=0;16>i;++i)n[i]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=e.g[0],r=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^r&(i^a))+n[0]+3614090360&4294967295;o=a+(i^(t=r+(o<<7&4294967295|o>>>25))&(r^i))+n[1]+3905402710&4294967295,o=i+(r^(a=t+(o<<12&4294967295|o>>>20))&(t^r))+n[2]+606105819&4294967295,o=r+(t^(i=a+(o<<17&4294967295|o>>>15))&(a^t))+n[3]+3250441966&4294967295,o=t+(a^(r=i+(o<<22&4294967295|o>>>10))&(i^a))+n[4]+4118548399&4294967295,o=a+(i^(t=r+(o<<7&4294967295|o>>>25))&(r^i))+n[5]+1200080426&4294967295,o=i+(r^(a=t+(o<<12&4294967295|o>>>20))&(t^r))+n[6]+2821735955&4294967295,o=r+(t^(i=a+(o<<17&4294967295|o>>>15))&(a^t))+n[7]+4249261313&4294967295,o=t+(a^(r=i+(o<<22&4294967295|o>>>10))&(i^a))+n[8]+1770035416&4294967295,o=a+(i^(t=r+(o<<7&4294967295|o>>>25))&(r^i))+n[9]+2336552879&4294967295,o=i+(r^(a=t+(o<<12&4294967295|o>>>20))&(t^r))+n[10]+4294925233&4294967295,o=r+(t^(i=a+(o<<17&4294967295|o>>>15))&(a^t))+n[11]+2304563134&4294967295,o=t+(a^(r=i+(o<<22&4294967295|o>>>10))&(i^a))+n[12]+1804603682&4294967295,o=a+(i^(t=r+(o<<7&4294967295|o>>>25))&(r^i))+n[13]+4254626195&4294967295,o=i+(r^(a=t+(o<<12&4294967295|o>>>20))&(t^r))+n[14]+2792965006&4294967295,o=r+(t^(i=a+(o<<17&4294967295|o>>>15))&(a^t))+n[15]+1236535329&4294967295,r=i+(o<<22&4294967295|o>>>10),o=t+(i^a&(r^i))+n[1]+4129170786&4294967295,t=r+(o<<5&4294967295|o>>>27),o=a+(r^i&(t^r))+n[6]+3225465664&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^r&(a^t))+n[11]+643717713&4294967295,i=a+(o<<14&4294967295|o>>>18),o=r+(a^t&(i^a))+n[0]+3921069994&4294967295,r=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(r^i))+n[5]+3593408605&4294967295,t=r+(o<<5&4294967295|o>>>27),o=a+(r^i&(t^r))+n[10]+38016083&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^r&(a^t))+n[15]+3634488961&4294967295,i=a+(o<<14&4294967295|o>>>18),o=r+(a^t&(i^a))+n[4]+3889429448&4294967295,r=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(r^i))+n[9]+568446438&4294967295,t=r+(o<<5&4294967295|o>>>27),o=a+(r^i&(t^r))+n[14]+3275163606&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^r&(a^t))+n[3]+4107603335&4294967295,i=a+(o<<14&4294967295|o>>>18),o=r+(a^t&(i^a))+n[8]+1163531501&4294967295,r=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(r^i))+n[13]+2850285829&4294967295,t=r+(o<<5&4294967295|o>>>27),o=a+(r^i&(t^r))+n[2]+4243563512&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^r&(a^t))+n[7]+1735328473&4294967295,i=a+(o<<14&4294967295|o>>>18),o=r+(a^t&(i^a))+n[12]+2368359562&4294967295,o=t+((r=i+(o<<20&4294967295|o>>>12))^i^a)+n[5]+4294588738&4294967295,o=a+((t=r+(o<<4&4294967295|o>>>28))^r^i)+n[8]+2272392833&4294967295,o=i+((a=t+(o<<11&4294967295|o>>>21))^t^r)+n[11]+1839030562&4294967295,o=r+((i=a+(o<<16&4294967295|o>>>16))^a^t)+n[14]+4259657740&4294967295,o=t+((r=i+(o<<23&4294967295|o>>>9))^i^a)+n[1]+2763975236&4294967295,o=a+((t=r+(o<<4&4294967295|o>>>28))^r^i)+n[4]+1272893353&4294967295,o=i+((a=t+(o<<11&4294967295|o>>>21))^t^r)+n[7]+4139469664&4294967295,o=r+((i=a+(o<<16&4294967295|o>>>16))^a^t)+n[10]+3200236656&4294967295,o=t+((r=i+(o<<23&4294967295|o>>>9))^i^a)+n[13]+681279174&4294967295,o=a+((t=r+(o<<4&4294967295|o>>>28))^r^i)+n[0]+3936430074&4294967295,o=i+((a=t+(o<<11&4294967295|o>>>21))^t^r)+n[3]+3572445317&4294967295,o=r+((i=a+(o<<16&4294967295|o>>>16))^a^t)+n[6]+76029189&4294967295,o=t+((r=i+(o<<23&4294967295|o>>>9))^i^a)+n[9]+3654602809&4294967295,o=a+((t=r+(o<<4&4294967295|o>>>28))^r^i)+n[12]+3873151461&4294967295,o=i+((a=t+(o<<11&4294967295|o>>>21))^t^r)+n[15]+530742520&4294967295,o=r+((i=a+(o<<16&4294967295|o>>>16))^a^t)+n[2]+3299628645&4294967295,r=i+(o<<23&4294967295|o>>>9),o=t+(i^(r|~a))+n[0]+4096336452&4294967295,t=r+(o<<6&4294967295|o>>>26),o=a+(r^(t|~i))+n[7]+1126891415&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~r))+n[14]+2878612391&4294967295,i=a+(o<<15&4294967295|o>>>17),o=r+(a^(i|~t))+n[5]+4237533241&4294967295,r=i+(o<<21&4294967295|o>>>11),o=t+(i^(r|~a))+n[12]+1700485571&4294967295,t=r+(o<<6&4294967295|o>>>26),o=a+(r^(t|~i))+n[3]+2399980690&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~r))+n[10]+4293915773&4294967295,i=a+(o<<15&4294967295|o>>>17),o=r+(a^(i|~t))+n[1]+2240044497&4294967295,r=i+(o<<21&4294967295|o>>>11),o=t+(i^(r|~a))+n[8]+1873313359&4294967295,t=r+(o<<6&4294967295|o>>>26),o=a+(r^(t|~i))+n[15]+4264355552&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~r))+n[6]+2734768916&4294967295,i=a+(o<<15&4294967295|o>>>17),o=r+(a^(i|~t))+n[13]+1309151649&4294967295,r=i+(o<<21&4294967295|o>>>11),o=t+(i^(r|~a))+n[4]+4149444226&4294967295,t=r+(o<<6&4294967295|o>>>26),o=a+(r^(t|~i))+n[11]+3174756917&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~r))+n[2]+718787259&4294967295,i=a+(o<<15&4294967295|o>>>17),o=r+(a^(i|~t))+n[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function rb(e,t){this.h=t;for(var r=[],n=!0,i=e.length-1;0<=i;i--){var a=0|e[i];n&&a==t||(r[i]=a,n=!1)}this.g=r}(s=tL.prototype).Oa=function(e){this.M=e},s.ha=function(e,t,r,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():o.g(),this.C=this.u?eB(this.u):eB(o),this.g.onreadystatechange=y(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(e){tG(this,e);return}if(e=r||"",r=new Map(this.headers),n){if(Object.getPrototypeOf(n)===Object.prototype)for(var i in n)r.set(i,n[i]);else if("function"==typeof n.keys&&"function"==typeof n.get)for(let e of n.keys())r.set(e,n.get(e));else throw Error("Unknown input type for opt_headers: "+String(n))}for(let[a,o]of(n=Array.from(r.keys()).find(e=>"content-type"==e.toLowerCase()),i=l.FormData&&e instanceof l.FormData,!(0<=b(tF,t))||n||i||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r))this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{var a;tY(this),0<this.B&&((this.L=(a=this.g,k&&"number"==typeof a.timeout&&void 0!==a.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=y(this.ua,this)):this.A=eA(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){tG(this,e)}},s.ua=function(){void 0!==h&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,eh(this,"timeout"),this.abort(8))},s.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,eh(this,"complete"),eh(this,"abort"),tX(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tX(this,!0)),tL.$.N.call(this)},s.La=function(){this.s||(this.G||this.v||this.l?tz(this):this.kb())},s.kb=function(){tz(this)},s.isActive=function(){return!!this.g},s.da=function(){try{return 2<tq(this)?this.g.status:-1}catch(e){return -1}},s.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},s.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),tj(t)}},s.Ia=function(){return this.m},s.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(s=t1.prototype).ra=8,s.H=1,s.Na=function(e){if(this.m){if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;let i=new eX(this,this.l,e),a=this.s;if(this.U&&(a?X(a=V(a),this.U):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var t=0,r=0;r<this.j.length;r++){t:{var n=this.j[r];if("__data__"in n.map&&"string"==typeof(n=n.map.__data__)){n=n.length;break t}n=void 0}if(void 0===n)break;if(4096<(t+=n)){t=r;break e}if(4096===t||r===this.j.length-1){t=r+1;break e}}t=1e3}else t=1e3;t=t7(this,i,t),ts(r=tn(this.I),"RID",e),ts(r,"CVER",22),this.F&&ts(r,"X-HTTP-Session-Id",this.F),t8(this,r),a&&(this.O?t="headers="+encodeURIComponent(String(tQ(a)))+"&"+t:this.o&&t2(r,this.o,a)),tk(this.i,i),this.bb&&ts(r,"TYPE","init"),this.P?(ts(r,"$req",t),ts(r,"SID","null"),i.aa=!0,e2(i,r,null)):e2(i,r,t),this.H=2}}else 3==this.H&&(e?t3(this,e):0==this.j.length||tC(this.i)||t3(this))}},s.Ma=function(){if(this.u=null,rn(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=eU(y(this.jb,this),e)}},s.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,eM(10),t9(this),rn(this))},s.ib=function(){null!=this.v&&(this.v=null,t9(this),rt(this),eM(19))},s.pb=function(e){e?(this.l.info("Successfully pinged google.com"),eM(2)):(this.l.info("Failed to ping google.com"),eM(1))},s.isActive=function(){return!!this.h&&this.h.isActive(this)},(s=ru.prototype).Ba=function(){},s.Aa=function(){},s.za=function(){},s.ya=function(){},s.isActive=function(){return!0},s.Va=function(){},rd.prototype.g=function(e,t){return new rf(e,t)},m(rf,ec),rf.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,r=this.h||void 0;eM(0),e.Y=t,e.na=r||{},e.G=e.aa,e.I=rh(e,null,e.Y),t6(e)},rf.prototype.close=function(){t4(this.g)},rf.prototype.u=function(e){var t=this.g;if("string"==typeof e){var r={};r.__data__=e,e=r}else this.v&&((r={}).__data__=eu(e),e=r);t.j.push(new tA(t.fb++,e)),3==t.H&&t6(t)},rf.prototype.N=function(){this.g.h=null,delete this.j,t4(this.g),delete this.g,rf.$.N.call(this)},m(rp,eG),m(ry,eV),m(rg,ru),rg.prototype.Ba=function(){eh(this.g,"a")},rg.prototype.Aa=function(e){eh(this.g,new rp(e))},rg.prototype.za=function(e){eh(this.g,new ry)},rg.prototype.ya=function(){eh(this.g,"b")},m(rm,function(){this.blockSize=-1}),rm.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},rm.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,n=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=r;)rw(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(n[i++]=e.charCodeAt(a++),i==this.blockSize){rw(this,n),i=0;break}}else for(;a<t;)if(n[i++]=e[a++],i==this.blockSize){rw(this,n),i=0;break}}this.h=i,this.i+=t},rm.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var r=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&r,r/=256;for(this.j(e),e=Array(16),t=r=0;4>t;++t)for(var n=0;32>n;n+=8)e[r++]=this.g[t]>>>n&255;return e};var rv={};function rE(e){var t;return -128<=e&&128>e?(t=function(e){return new rb([0|e],0>e?-1:0)},Object.prototype.hasOwnProperty.call(rv,e)?rv[e]:rv[e]=t(e)):new rb([0|e],0>e?-1:0)}function rS(e){if(isNaN(e)||!isFinite(e))return r_;if(0>e)return rk(rS(-e));for(var t=[],r=1,n=0;e>=r;n++)t[n]=e/r|0,r*=rA;return new rb(t,0)}var rA=4294967296,r_=rE(0),rI=rE(1),rC=rE(16777216);function rT(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function rH(e){return -1==e.h}function rk(e){for(var t=e.g.length,r=[],n=0;n<t;n++)r[n]=~e.g[n];return new rb(r,~e.h).add(rI)}function rP(e,t){return e.add(rk(t))}function rR(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function rD(e,t){this.g=e,this.h=t}function rO(e,t){if(rT(t))throw Error("division by zero");if(rT(e))return new rD(r_,r_);if(rH(e))return t=rO(rk(e),t),new rD(rk(t.g),rk(t.h));if(rH(t))return t=rO(e,rk(t)),new rD(rk(t.g),t.h);if(30<e.g.length){if(rH(e)||rH(t))throw Error("slowDivide_ only works with positive integers.");for(var r=rI,n=t;0>=n.X(e);)r=rK(r),n=rK(n);var i=rN(r,1),a=rN(n,1);for(n=rN(n,2),r=rN(r,2);!rT(n);){var o=a.add(n);0>=o.X(e)&&(i=i.add(r),a=o),n=rN(n,1),r=rN(r,1)}return t=rP(e,i.R(t)),new rD(i,t)}for(i=r_;0<=e.X(t);){for(n=48>=(n=Math.ceil(Math.log(r=Math.max(1,Math.floor(e.ea()/t.ea())))/Math.LN2))?1:Math.pow(2,n-48),o=(a=rS(r)).R(t);rH(o)||0<o.X(e);)r-=n,o=(a=rS(r)).R(t);rT(a)&&(a=rI),i=i.add(a),e=rP(e,o)}return new rD(i,e)}function rK(e){for(var t=e.g.length+1,r=[],n=0;n<t;n++)r[n]=e.D(n)<<1|e.D(n-1)>>>31;return new rb(r,e.h)}function rN(e,t){var r=t>>5;t%=32;for(var n=e.g.length-r,i=[],a=0;a<n;a++)i[a]=0<t?e.D(a+r)>>>t|e.D(a+r+1)<<32-t:e.D(a+r);return new rb(i,e.h)}(s=rb.prototype).ea=function(){if(rH(this))return-rk(this).ea();for(var e=0,t=1,r=0;r<this.g.length;r++){var n=this.D(r);e+=(0<=n?n:rA+n)*t,t*=rA}return e},s.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(rT(this))return"0";if(rH(this))return"-"+rk(this).toString(e);for(var t=rS(Math.pow(e,6)),r=this,n="";;){var i=rO(r,t).g,a=((0<(r=rP(r,i.R(t))).g.length?r.g[0]:r.h)>>>0).toString(e);if(rT(r=i))return a+n;for(;6>a.length;)a="0"+a;n=a+n}},s.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},s.X=function(e){return rH(e=rP(this,e))?-1:rT(e)?0:1},s.abs=function(){return rH(this)?rk(this):this},s.add=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0,i=0;i<=t;i++){var a=n+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);n=o>>>16,a&=65535,o&=65535,r[i]=o<<16|a}return new rb(r,-2147483648&r[r.length-1]?-1:0)},s.R=function(e){if(rT(this)||rT(e))return r_;if(rH(this))return rH(e)?rk(this).R(rk(e)):rk(rk(this).R(e));if(rH(e))return rk(this.R(rk(e)));if(0>this.X(rC)&&0>e.X(rC))return rS(this.ea()*e.ea());for(var t=this.g.length+e.g.length,r=[],n=0;n<2*t;n++)r[n]=0;for(n=0;n<this.g.length;n++)for(var i=0;i<e.g.length;i++){var a=this.D(n)>>>16,o=65535&this.D(n),s=e.D(i)>>>16,c=65535&e.D(i);r[2*n+2*i]+=o*c,rR(r,2*n+2*i),r[2*n+2*i+1]+=a*c,rR(r,2*n+2*i+1),r[2*n+2*i+1]+=o*s,rR(r,2*n+2*i+1),r[2*n+2*i+2]+=a*s,rR(r,2*n+2*i+2)}for(n=0;n<t;n++)r[n]=r[2*n+1]<<16|r[2*n];for(n=t;n<2*t;n++)r[n]=0;return new rb(r,0)},s.gb=function(e){return rO(this,e).h},s.and=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.D(n)&e.D(n);return new rb(r,this.h&e.h)},s.or=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.D(n)|e.D(n);return new rb(r,this.h|e.h)},s.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.D(n)^e.D(n);return new rb(r,this.h^e.h)},rd.prototype.createWebChannel=rd.prototype.g,rf.prototype.send=rf.prototype.u,rf.prototype.open=rf.prototype.m,rf.prototype.close=rf.prototype.close,eJ.NO_ERROR=0,eJ.TIMEOUT=8,eJ.HTTP_ERROR=6,ej.COMPLETE="complete",e$.EventType=eF,eF.OPEN="a",eF.CLOSE="b",eF.ERROR="c",eF.MESSAGE="d",ec.prototype.listen=ec.prototype.O,tL.prototype.listenOnce=tL.prototype.P,tL.prototype.getLastError=tL.prototype.Sa,tL.prototype.getLastErrorCode=tL.prototype.Ia,tL.prototype.getStatus=tL.prototype.da,tL.prototype.getResponseJson=tL.prototype.Wa,tL.prototype.getResponseText=tL.prototype.ja,tL.prototype.send=tL.prototype.ha,tL.prototype.setWithCredentials=tL.prototype.Oa,rm.prototype.digest=rm.prototype.l,rm.prototype.reset=rm.prototype.reset,rm.prototype.update=rm.prototype.j,rb.prototype.add=rb.prototype.add,rb.prototype.multiply=rb.prototype.R,rb.prototype.modulo=rb.prototype.gb,rb.prototype.compare=rb.prototype.X,rb.prototype.toNumber=rb.prototype.ea,rb.prototype.toString=rb.prototype.toString,rb.prototype.getBits=rb.prototype.D,rb.fromNumber=rS,rb.fromString=function e(t,r){if(0==t.length)throw Error("number format error: empty string");if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if("-"==t.charAt(0))return rk(e(t.substring(1),r));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=rS(Math.pow(r,8)),i=r_,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),r);8>o?(o=rS(Math.pow(r,o)),i=i.R(o).add(rS(s))):i=(i=i.R(n)).add(rS(s))}return i};var rW=c.createWebChannelTransport=function(){return new rd},rM=c.getStatEventTarget=function(){return eO()},rx=c.ErrorCode=eJ,rU=c.EventType=ej,rJ=c.Event=eR,rj=c.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},rL=c.FetchXmlHttpFactory=tN,rB=c.WebChannel=e$,r$=c.XhrIo=tL,rF=c.Md5=rm,rG=c.Integer=rb},738:function(e,t,r){r.d(t,{ZF:function(){return n.ZF},ZR:function(){return n.ZR}});var n=r(64801);(0,n.KN)("firebase","10.1.0","app")},44752:function(e,t,r){r.d(t,{kq:function(){return n.G},GH:function(){return n.W},hJ:function(){return n.V},O4:function(){return n.X},bX:function(){return n.a6},LG:function(){return n.a4},Xb:function(){return n.a8},v0:function(){return n.o},Aj:function(){return n.x},w$:function(){return n.ae},LS:function(){return n.a3},_p:function(){return n.a2},e5:function(){return n.a9},rh:function(){return n.c}});var n=r(32663);r(40230),r(64801),r(18667),r(78965)},5978:function(e,t,r){r.d(t,{EK:function(){return n.EK},IO:function(){return n.IO},JU:function(){return n.JU},LV:function(){return n.LV},PL:function(){return n.PL},QT:function(){return n.QT},UQ:function(){return n.UQ},Xo:function(){return n.Xo},Yp:function(){return n.Yp},ar:function(){return n.ar},b9:function(){return n.b9},cf:function(){return n.cf},hJ:function(){return n.hJ},iE:function(){return n.iE},zN:function(){return n.zN}});var n=r(28456)},61430:function(e,t,r){let n,i,a;r.r(t),r.d(t,{CompactEncrypt:function(){return tE},CompactSign:function(){return t_},EmbeddedJWK:function(){return tK},EncryptJWT:function(){return tP},FlattenedEncrypt:function(){return ti},FlattenedSign:function(){return tA},GeneralEncrypt:function(){return to},GeneralSign:function(){return tC},SignJWT:function(){return tk},UnsecuredJWT:function(){return tF},base64url:function(){return s},calculateJwkThumbprint:function(){return tD},calculateJwkThumbprintUri:function(){return tO},compactDecrypt:function(){return e6},compactVerify:function(){return tu},createLocalJWKSet:function(){return tU},createRemoteJWKSet:function(){return tB},cryptoRuntime:function(){return t0},decodeJwt:function(){return tX},decodeProtectedHeader:function(){return tz},errors:function(){return o},experimental_jwksCache:function(){return t$},exportJWK:function(){return tr},exportPKCS8:function(){return tt},exportSPKI:function(){return te},flattenedDecrypt:function(){return e5},flattenedVerify:function(){return tl},generalDecrypt:function(){return e3},generalVerify:function(){return td},generateKeyPair:function(){return tQ},generateSecret:function(){return t2},importJWK:function(){return eB},importPKCS8:function(){return eL},importSPKI:function(){return eJ},importX509:function(){return ej},jwksCache:function(){return tj},jwtDecrypt:function(){return tv},jwtVerify:function(){return tb}});var o={};r.r(o),r.d(o,{JOSEAlgNotAllowed:function(){return C},JOSEError:function(){return A},JOSENotSupported:function(){return T},JWEDecryptionFailed:function(){return H},JWEInvalid:function(){return k},JWKInvalid:function(){return D},JWKSInvalid:function(){return O},JWKSMultipleMatchingKeys:function(){return N},JWKSNoMatchingKey:function(){return K},JWKSTimeout:function(){return W},JWSInvalid:function(){return P},JWSSignatureVerificationFailed:function(){return M},JWTClaimValidationFailed:function(){return _},JWTExpired:function(){return I},JWTInvalid:function(){return R}});var s={};r.r(s),r.d(s,{decode:function(){return tV},encode:function(){return tG}});var c=crypto;let h=e=>e instanceof CryptoKey,l=async(e,t)=>{let r=`SHA-${e.slice(-3)}`;return new Uint8Array(await c.subtle.digest(r,t))},u=new TextEncoder,d=new TextDecoder;function f(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}function p(e,t,r){if(t<0||t>=4294967296)throw RangeError(`value must be >= 0 and <= ${4294967296-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function y(e){let t=new Uint8Array(8);return p(t,Math.floor(e/4294967296),0),p(t,e%4294967296,4),t}function g(e){let t=new Uint8Array(4);return p(t,e),t}function m(e){return f(g(e.length),e)}async function w(e,t,r){let n=Math.ceil((t>>3)/32),i=new Uint8Array(32*n);for(let t=0;t<n;t++){let n=new Uint8Array(4+e.length+r.length);n.set(g(t+1)),n.set(e,4),n.set(r,4+e.length),i.set(await l("sha256",n),32*t)}return i.slice(0,t>>3)}let b=e=>{let t=e;"string"==typeof t&&(t=u.encode(t));let r=[];for(let e=0;e<t.length;e+=32768)r.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(r.join(""))},v=e=>b(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),E=e=>{let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r},S=e=>{let t=e;t instanceof Uint8Array&&(t=d.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return E(t)}catch{throw TypeError("The input to be decoded is not correctly encoded.")}};class A extends Error{constructor(e,t){super(e,t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}A.code="ERR_JOSE_GENERIC";class _ extends A{constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=n,this.payload=t}}_.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class I extends A{constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=n,this.payload=t}}I.code="ERR_JWT_EXPIRED";class C extends A{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}C.code="ERR_JOSE_ALG_NOT_ALLOWED";class T extends A{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}T.code="ERR_JOSE_NOT_SUPPORTED";class H extends A{constructor(e="decryption operation failed",t){super(e,t),this.code="ERR_JWE_DECRYPTION_FAILED"}}H.code="ERR_JWE_DECRYPTION_FAILED";class k extends A{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}k.code="ERR_JWE_INVALID";class P extends A{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}P.code="ERR_JWS_INVALID";class R extends A{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}R.code="ERR_JWT_INVALID";class D extends A{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}D.code="ERR_JWK_INVALID";class O extends A{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}O.code="ERR_JWKS_INVALID";class K extends A{constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_NO_MATCHING_KEY"}}K.code="ERR_JWKS_NO_MATCHING_KEY";class N extends A{constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}N.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class W extends A{constructor(e="request timed out",t){super(e,t),this.code="ERR_JWKS_TIMEOUT"}}W.code="ERR_JWKS_TIMEOUT";class M extends A{constructor(e="signature verification failed",t){super(e,t),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}M.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";var x=c.getRandomValues.bind(c);function U(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new T(`Unsupported JWE Algorithm: ${e}`)}}var J=e=>x(new Uint8Array(U(e)>>3)),j=(e,t)=>{if(t.length<<3!==U(e))throw new k("Invalid Initialization Vector length")},L=(e,t)=>{let r=e.byteLength<<3;if(r!==t)throw new k(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)},B=(e,t)=>{if(!(e instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw TypeError("Second argument must be a buffer");if(e.length!==t.length)throw TypeError("Input buffers must have the same length");let r=e.length,n=0,i=-1;for(;++i<r;)n|=e[i]^t[i];return 0===n};function $(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function F(e,t){return e.name===t}function G(e){return parseInt(e.name.slice(4),10)}function V(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}}function z(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!F(e.algorithm,"AES-GCM"))throw $("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw $(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!F(e.algorithm,"AES-KW"))throw $("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw $(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw $("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!F(e.algorithm,"PBKDF2"))throw $("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!F(e.algorithm,"RSA-OAEP"))throw $("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if(G(e.algorithm.hash)!==r)throw $(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}V(e,r)}function X(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}var Y=(e,...t)=>X("Key must be ",e,...t);function q(e,t,...r){return X(`Key for the ${e} algorithm must be `,t,...r)}var Z=e=>!!h(e)||e?.[Symbol.toStringTag]==="KeyObject";let Q=["CryptoKey"];async function ee(e,t,r,n,i,a){let o,s;if(!(t instanceof Uint8Array))throw TypeError(Y(t,"Uint8Array"));let h=parseInt(e.slice(1,4),10),l=await c.subtle.importKey("raw",t.subarray(h>>3),"AES-CBC",!1,["decrypt"]),u=await c.subtle.importKey("raw",t.subarray(0,h>>3),{hash:`SHA-${h<<1}`,name:"HMAC"},!1,["sign"]),d=f(a,n,r,y(a.length<<3)),p=new Uint8Array((await c.subtle.sign("HMAC",u,d)).slice(0,h>>3));try{o=B(i,p)}catch{}if(!o)throw new H;try{s=new Uint8Array(await c.subtle.decrypt({iv:n,name:"AES-CBC"},l,r))}catch{}if(!s)throw new H;return s}async function et(e,t,r,n,i,a){let o;t instanceof Uint8Array?o=await c.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(z(t,e,"decrypt"),o=t);try{return new Uint8Array(await c.subtle.decrypt({additionalData:a,iv:n,name:"AES-GCM",tagLength:128},o,f(r,i)))}catch{throw new H}}let er=async(e,t,r,n,i,a)=>{if(!h(t)&&!(t instanceof Uint8Array))throw TypeError(Y(t,...Q,"Uint8Array"));if(!n)throw new k("JWE Initialization Vector missing");if(!i)throw new k("JWE Authentication Tag missing");switch(j(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&L(t,parseInt(e.slice(-3),10)),ee(e,t,r,n,i,a);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&L(t,parseInt(e.slice(1,4),10)),et(e,t,r,n,i,a);default:throw new T("Unsupported JWE Content Encryption Algorithm")}};var en=(...e)=>{let t;let r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0};function ei(e){if(!("object"==typeof e&&null!==e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}var ea=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function eo(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function es(e,t,r){if(h(e))return z(e,t,r),e;if(e instanceof Uint8Array)return c.subtle.importKey("raw",e,"AES-KW",!0,[r]);throw TypeError(Y(e,...Q,"Uint8Array"))}let ec=async(e,t,r)=>{let n=await es(t,e,"wrapKey");eo(n,e);let i=await c.subtle.importKey("raw",r,...ea);return new Uint8Array(await c.subtle.wrapKey("raw",i,n,"AES-KW"))},eh=async(e,t,r)=>{let n=await es(t,e,"unwrapKey");eo(n,e);let i=await c.subtle.unwrapKey("raw",r,n,"AES-KW",...ea);return new Uint8Array(await c.subtle.exportKey("raw",i))};async function el(e,t,r,n,i=new Uint8Array(0),a=new Uint8Array(0)){let o;if(!h(e))throw TypeError(Y(e,...Q));if(z(e,"ECDH"),!h(t))throw TypeError(Y(t,...Q));z(t,"ECDH","deriveBits");let s=f(m(u.encode(r)),m(i),m(a),g(n));return o="X25519"===e.algorithm.name?256:"X448"===e.algorithm.name?448:Math.ceil(parseInt(e.algorithm.namedCurve.substr(-3),10)/8)<<3,w(new Uint8Array(await c.subtle.deriveBits({name:e.algorithm.name,public:e},t,o)),n,s)}async function eu(e){if(!h(e))throw TypeError(Y(e,...Q));return c.subtle.generateKey(e.algorithm,!0,["deriveBits"])}function ed(e){if(!h(e))throw TypeError(Y(e,...Q));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)||"X25519"===e.algorithm.name||"X448"===e.algorithm.name}async function ef(e,t,r,n){!function(e){if(!(e instanceof Uint8Array)||e.length<8)throw new k("PBES2 Salt Input must be 8 or more octets")}(e);let i=f(u.encode(t),new Uint8Array([0]),e),a=parseInt(t.slice(13,16),10),o={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:i},s=await function(e,t){if(e instanceof Uint8Array)return c.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(h(e))return z(e,t,"deriveBits","deriveKey"),e;throw TypeError(Y(e,...Q,"Uint8Array"))}(n,t);if(s.usages.includes("deriveBits"))return new Uint8Array(await c.subtle.deriveBits(o,s,a));if(s.usages.includes("deriveKey"))return c.subtle.deriveKey(o,s,{length:a,name:"AES-KW"},!1,["wrapKey","unwrapKey"]);throw TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}let ep=async(e,t,r,n=2048,i=x(new Uint8Array(16)))=>{let a=await ef(i,e,n,t);return{encryptedKey:await ec(e.slice(-6),a,r),p2c:n,p2s:v(i)}},ey=async(e,t,r,n,i)=>{let a=await ef(i,e,n,t);return eh(e.slice(-6),a,r)};function eg(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new T(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}var em=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};let ew=async(e,t,r)=>{if(!h(t))throw TypeError(Y(t,...Q));if(z(t,e,"encrypt","wrapKey"),em(e,t),t.usages.includes("encrypt"))return new Uint8Array(await c.subtle.encrypt(eg(e),t,r));if(t.usages.includes("wrapKey")){let n=await c.subtle.importKey("raw",r,...ea);return new Uint8Array(await c.subtle.wrapKey("raw",n,t,eg(e)))}throw TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},eb=async(e,t,r)=>{if(!h(t))throw TypeError(Y(t,...Q));if(z(t,e,"decrypt","unwrapKey"),em(e,t),t.usages.includes("decrypt"))return new Uint8Array(await c.subtle.decrypt(eg(e),t,r));if(t.usages.includes("unwrapKey")){let n=await c.subtle.unwrapKey("raw",r,t,eg(e),...ea);return new Uint8Array(await c.subtle.exportKey("raw",n))}throw TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function ev(e){return ei(e)&&"string"==typeof e.kty}let eE=async e=>{if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:t,keyUsages:r}=function(e){let t,r;switch(e.kty){case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new T('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new T('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"EdDSA":t={name:e.crv},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new T('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new T('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),n=[t,e.ext??!1,e.key_ops??r],i={...e};return delete i.alg,delete i.use,c.subtle.importKey("jwk",i,...n)},eS=e=>S(e),eA=e=>e?.[Symbol.toStringTag]==="KeyObject",e_=async(e,t,r,n,i=!1)=>{let a=e.get(t);if(a?.[n])return a[n];let o=await eE({...r,alg:n});return i&&Object.freeze(t),a?a[n]=o:e.set(t,{[n]:o}),o};var eI={normalizePublicKey:(e,t)=>{if(eA(e)){let r=e.export({format:"jwk"});return(delete r.d,delete r.dp,delete r.dq,delete r.p,delete r.q,delete r.qi,r.k)?eS(r.k):(i||(i=new WeakMap),e_(i,e,r,t))}return ev(e)?e.k?S(e.k):(i||(i=new WeakMap),e_(i,e,e,t,!0)):e},normalizePrivateKey:(e,t)=>{if(eA(e)){let r=e.export({format:"jwk"});return r.k?eS(r.k):(n||(n=new WeakMap),e_(n,e,r,t))}return ev(e)?e.k?S(e.k):(n||(n=new WeakMap),e_(n,e,e,t,!0)):e}};function eC(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new T(`Unsupported JWE Algorithm: ${e}`)}}var eT=e=>x(new Uint8Array(eC(e)>>3)),eH=(e,t)=>{let r=(e.match(/.{1,64}/g)||[]).join("\n");return`-----BEGIN ${t}-----
${r}
-----END ${t}-----`};let ek=async(e,t,r)=>{if(!h(r))throw TypeError(Y(r,...Q));if(!r.extractable)throw TypeError("CryptoKey is not extractable");if(r.type!==e)throw TypeError(`key is not a ${e} key`);return eH(b(new Uint8Array(await c.subtle.exportKey(t,r))),`${e.toUpperCase()} KEY`)},eP=e=>ek("public","spki",e),eR=e=>ek("private","pkcs8",e),eD=(e,t,r=0)=>{0===r&&(t.unshift(t.length),t.unshift(6));let n=e.indexOf(t[0],r);if(-1===n)return!1;let i=e.subarray(n,n+t.length);return i.length===t.length&&(i.every((e,r)=>e===t[r])||eD(e,t,n+1))},eO=e=>{switch(!0){case eD(e,[42,134,72,206,61,3,1,7]):return"P-256";case eD(e,[43,129,4,0,34]):return"P-384";case eD(e,[43,129,4,0,35]):return"P-521";case eD(e,[43,101,110]):return"X25519";case eD(e,[43,101,111]):return"X448";case eD(e,[43,101,112]):return"Ed25519";case eD(e,[43,101,113]):return"Ed448";default:throw new T("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},eK=async(e,t,r,n,i)=>{let a,o;let s=new Uint8Array(atob(r.replace(e,"")).split("").map(e=>e.charCodeAt(0))),h="spki"===t;switch(n){case"PS256":case"PS384":case"PS512":a={name:"RSA-PSS",hash:`SHA-${n.slice(-3)}`},o=h?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":a={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${n.slice(-3)}`},o=h?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":a={name:"RSA-OAEP",hash:`SHA-${parseInt(n.slice(-3),10)||1}`},o=h?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":a={name:"ECDSA",namedCurve:"P-256"},o=h?["verify"]:["sign"];break;case"ES384":a={name:"ECDSA",namedCurve:"P-384"},o=h?["verify"]:["sign"];break;case"ES512":a={name:"ECDSA",namedCurve:"P-521"},o=h?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let e=eO(s);a=e.startsWith("P-")?{name:"ECDH",namedCurve:e}:{name:e},o=h?[]:["deriveBits"];break}case"EdDSA":a={name:eO(s)},o=h?["verify"]:["sign"];break;default:throw new T('Invalid or unsupported "alg" (Algorithm) value')}return c.subtle.importKey(t,s,a,i?.extractable??!1,o)},eN=(e,t,r)=>eK(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",e,t,r),eW=(e,t,r)=>eK(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,r);function eM(e){let t=[],r=0;for(;r<e.length;){let n=ex(e.subarray(r));t.push(n),r+=n.byteLength}return t}function ex(e){let t=0,r=31&e[0];if(t++,31===r){for(r=0;e[t]>=128;)r=128*r+e[t]-128,t++;r=128*r+e[t]-128,t++}let n=0;if(e[t]<128)n=e[t],t++;else if(128===n){for(n=0;0!==e[t+n]||0!==e[t+n+1];){if(n>e.byteLength)throw TypeError("invalid indefinite form length");n++}let r=t+n+2;return{byteLength:r,contents:e.subarray(t,t+n),raw:e.subarray(0,r)}}else{let r=127&e[t];t++,n=0;for(let i=0;i<r;i++)n=256*n+e[t],t++}let i=t+n;return{byteLength:i,contents:e.subarray(t,i),raw:e.subarray(0,i)}}let eU=(e,t,r)=>{let n;try{n=eH(function(e){let t=eM(eM(ex(e).contents)[0].contents);return b(t[160===t[0].raw[0]?6:5].raw)}(E(e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""))),"PUBLIC KEY")}catch(e){throw TypeError("Failed to parse the X.509 certificate",{cause:e})}return eW(n,t,r)};async function eJ(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PUBLIC KEY-----"))throw TypeError('"spki" must be SPKI formatted string');return eW(e,t,r)}async function ej(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN CERTIFICATE-----"))throw TypeError('"x509" must be X.509 formatted string');return eU(e,t,r)}async function eL(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw TypeError('"pkcs8" must be PKCS#8 formatted string');return eN(e,t,r)}async function eB(e,t){if(!ei(e))throw TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return S(e.k);case"RSA":if(void 0!==e.oth)throw new T('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return eE({...e,alg:t});default:throw new T('Unsupported "kty" (Key Type) Parameter value')}}let e$=e=>e?.[Symbol.toStringTag],eF=(e,t,r)=>{if(void 0!==t.use&&"sig"!==t.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==t.key_ops&&t.key_ops.includes?.(r)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${r}`);if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},eG=(e,t,r,n)=>{if(!(t instanceof Uint8Array)){if(n&&ev(t)){if(ev(t)&&"oct"===t.kty&&"string"==typeof t.k&&eF(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!Z(t))throw TypeError(q(e,t,...Q,"Uint8Array",n?"JSON Web Key":null));if("secret"!==t.type)throw TypeError(`${e$(t)} instances for symmetric algorithms must be of type "secret"`)}},eV=(e,t,r,n)=>{if(n&&ev(t))switch(r){case"sign":if("oct"!==t.kty&&"string"==typeof t.d&&eF(e,t,r))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if("oct"!==t.kty&&void 0===t.d&&eF(e,t,r))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!Z(t))throw TypeError(q(e,t,...Q,n?"JSON Web Key":null));if("secret"===t.type)throw TypeError(`${e$(t)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw TypeError(`${e$(t)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw TypeError(`${e$(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw TypeError(`${e$(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw TypeError(`${e$(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function ez(e,t,r,n){t.startsWith("HS")||"dir"===t||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?eG(t,r,n,e):eV(t,r,n,e)}var eX=ez.bind(void 0,!1);let eY=ez.bind(void 0,!0);async function eq(e,t,r,n,i){if(!(r instanceof Uint8Array))throw TypeError(Y(r,"Uint8Array"));let a=parseInt(e.slice(1,4),10),o=await c.subtle.importKey("raw",r.subarray(a>>3),"AES-CBC",!1,["encrypt"]),s=await c.subtle.importKey("raw",r.subarray(0,a>>3),{hash:`SHA-${a<<1}`,name:"HMAC"},!1,["sign"]),h=new Uint8Array(await c.subtle.encrypt({iv:n,name:"AES-CBC"},o,t)),l=f(i,n,h,y(i.length<<3));return{ciphertext:h,tag:new Uint8Array((await c.subtle.sign("HMAC",s,l)).slice(0,a>>3)),iv:n}}async function eZ(e,t,r,n,i){let a;r instanceof Uint8Array?a=await c.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):(z(r,e,"encrypt"),a=r);let o=new Uint8Array(await c.subtle.encrypt({additionalData:i,iv:n,name:"AES-GCM",tagLength:128},a,t)),s=o.slice(-16);return{ciphertext:o.slice(0,-16),tag:s,iv:n}}let eQ=async(e,t,r,n,i)=>{if(!h(r)&&!(r instanceof Uint8Array))throw TypeError(Y(r,...Q,"Uint8Array"));switch(n?j(e,n):n=J(e),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&L(r,parseInt(e.slice(-3),10)),eq(e,t,r,n,i);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&L(r,parseInt(e.slice(1,4),10)),eZ(e,t,r,n,i);default:throw new T("Unsupported JWE Content Encryption Algorithm")}};async function e2(e,t,r,n){let i=e.slice(0,7),a=await eQ(i,r,t,n,new Uint8Array(0));return{encryptedKey:a.ciphertext,iv:v(a.iv),tag:v(a.tag)}}async function e0(e,t,r,n,i){return er(e.slice(0,7),t,r,n,i,new Uint8Array(0))}async function e1(e,t,r,n,i){switch(eX(e,t,"decrypt"),t=await eI.normalizePrivateKey?.(t,e)||t,e){case"dir":if(void 0!==r)throw new k("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new k("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let i,a;if(!ei(n.epk))throw new k('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!ed(t))throw new T("ECDH with the provided key is not allowed or not supported by your javascript runtime");let o=await eB(n.epk,e);if(void 0!==n.apu){if("string"!=typeof n.apu)throw new k('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{i=S(n.apu)}catch{throw new k("Failed to base64url decode the apu")}}if(void 0!==n.apv){if("string"!=typeof n.apv)throw new k('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{a=S(n.apv)}catch{throw new k("Failed to base64url decode the apv")}}let s=await el(o,t,"ECDH-ES"===e?n.enc:e,"ECDH-ES"===e?eC(n.enc):parseInt(e.slice(-5,-2),10),i,a);if("ECDH-ES"===e)return s;if(void 0===r)throw new k("JWE Encrypted Key missing");return eh(e.slice(-6),s,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new k("JWE Encrypted Key missing");return eb(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let a;if(void 0===r)throw new k("JWE Encrypted Key missing");if("number"!=typeof n.p2c)throw new k('JOSE Header "p2c" (PBES2 Count) missing or invalid');let o=i?.maxPBES2Count||1e4;if(n.p2c>o)throw new k('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof n.p2s)throw new k('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{a=S(n.p2s)}catch{throw new k("Failed to base64url decode the p2s")}return ey(e,t,r,n.p2c,a)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new k("JWE Encrypted Key missing");return eh(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let i,a;if(void 0===r)throw new k("JWE Encrypted Key missing");if("string"!=typeof n.iv)throw new k('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof n.tag)throw new k('JOSE Header "tag" (Authentication Tag) missing or invalid');try{i=S(n.iv)}catch{throw new k("Failed to base64url decode the iv")}try{a=S(n.tag)}catch{throw new k("Failed to base64url decode the tag")}return e0(e,t,r,i,a)}default:throw new T('Invalid or unsupported "alg" (JWE Algorithm) header value')}}var e4=function(e,t,r,n,i){let a;if(void 0!==i.crit&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let o of(a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!a.has(o))throw new T(`Extension Header Parameter "${o}" is not recognized`);if(void 0===i[o])throw new e(`Extension Header Parameter "${o}" is missing`);if(a.get(o)&&void 0===n[o])throw new e(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(n.crit)},e9=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function e5(e,t,r){let n,i,a,o,s,c,h;if(!ei(e))throw new k("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new k("JOSE Header missing");if(void 0!==e.iv&&"string"!=typeof e.iv)throw new k("JWE Initialization Vector incorrect type");if("string"!=typeof e.ciphertext)throw new k("JWE Ciphertext missing or incorrect type");if(void 0!==e.tag&&"string"!=typeof e.tag)throw new k("JWE Authentication Tag incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new k("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new k("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new k("JWE AAD incorrect type");if(void 0!==e.header&&!ei(e.header))throw new k("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!ei(e.unprotected))throw new k("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=S(e.protected);n=JSON.parse(d.decode(t))}catch{throw new k("JWE Protected Header is invalid")}if(!en(n,e.header,e.unprotected))throw new k("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let l={...n,...e.header,...e.unprotected};if(e4(k,new Map,r?.crit,n,l),void 0!==l.zip)throw new T('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:p,enc:y}=l;if("string"!=typeof p||!p)throw new k("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof y||!y)throw new k("missing JWE Encryption Algorithm (enc) in JWE Header");let g=r&&e9("keyManagementAlgorithms",r.keyManagementAlgorithms),m=r&&e9("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(g&&!g.has(p)||!g&&p.startsWith("PBES2"))throw new C('"alg" (Algorithm) Header Parameter value not allowed');if(m&&!m.has(y))throw new C('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==e.encrypted_key)try{i=S(e.encrypted_key)}catch{throw new k("Failed to base64url decode the encrypted_key")}let w=!1;"function"==typeof t&&(t=await t(n,e),w=!0);try{a=await e1(p,t,i,l,r)}catch(e){if(e instanceof TypeError||e instanceof k||e instanceof T)throw e;a=eT(y)}if(void 0!==e.iv)try{o=S(e.iv)}catch{throw new k("Failed to base64url decode the iv")}if(void 0!==e.tag)try{s=S(e.tag)}catch{throw new k("Failed to base64url decode the tag")}let b=u.encode(e.protected??"");c=void 0!==e.aad?f(b,u.encode("."),u.encode(e.aad)):b;try{h=S(e.ciphertext)}catch{throw new k("Failed to base64url decode the ciphertext")}let v={plaintext:await er(y,a,h,o,s,c)};if(void 0!==e.protected&&(v.protectedHeader=n),void 0!==e.aad)try{v.additionalAuthenticatedData=S(e.aad)}catch{throw new k("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(v.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(v.unprotectedHeader=e.header),w)?{...v,key:t}:v}async function e6(e,t,r){if(e instanceof Uint8Array&&(e=d.decode(e)),"string"!=typeof e)throw new k("Compact JWE must be a string or Uint8Array");let{0:n,1:i,2:a,3:o,4:s,length:c}=e.split(".");if(5!==c)throw new k("Invalid Compact JWE");let h=await e5({ciphertext:o,iv:a||void 0,protected:n,tag:s||void 0,encrypted_key:i||void 0},t,r),l={plaintext:h.plaintext,protectedHeader:h.protectedHeader};return"function"==typeof t?{...l,key:h.key}:l}async function e3(e,t,r){if(!ei(e))throw new k("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(ei))throw new k("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new k("JWE Recipients has no members");for(let n of e.recipients)try{return await e5({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:n.encrypted_key,header:n.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch{}throw new H}let e8=Symbol(),e7=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:v(e)};if(!h(e))throw TypeError(Y(e,...Q,"Uint8Array"));if(!e.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:t,key_ops:r,alg:n,use:i,...a}=await c.subtle.exportKey("jwk",e);return a};async function te(e){return eP(e)}async function tt(e){return eR(e)}async function tr(e){return e7(e)}async function tn(e,t,r,n,i={}){let a,o,s;switch(eX(e,r,"encrypt"),r=await eI.normalizePublicKey?.(r,e)||r,e){case"dir":s=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!ed(r))throw new T("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:c,apv:h}=i,{epk:l}=i;l||(l=(await eu(r)).privateKey);let{x:u,y:d,crv:f,kty:p}=await tr(l),y=await el(r,l,"ECDH-ES"===e?t:e,"ECDH-ES"===e?eC(t):parseInt(e.slice(-5,-2),10),c,h);if(o={epk:{x:u,crv:f,kty:p}},"EC"===p&&(o.epk.y=d),c&&(o.apu=v(c)),h&&(o.apv=v(h)),"ECDH-ES"===e){s=y;break}s=n||eT(t);let g=e.slice(-6);a=await ec(g,y,s);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s=n||eT(t),a=await ew(e,r,s);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{s=n||eT(t);let{p2c:c,p2s:h}=i;({encryptedKey:a,...o}=await ep(e,r,s,c,h));break}case"A128KW":case"A192KW":case"A256KW":s=n||eT(t),a=await ec(e,r,s);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{s=n||eT(t);let{iv:c}=i;({encryptedKey:a,...o}=await e2(e,r,s,c));break}default:throw new T('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:s,encryptedKey:a,parameters:o}}class ti{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){let r,n,i,a,o;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new k("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!en(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new k("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let s={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(e4(k,new Map,t?.crit,this._protectedHeader,s),void 0!==s.zip)throw new T('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:c,enc:h}=s;if("string"!=typeof c||!c)throw new k('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof h||!h)throw new k('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this._cek&&("dir"===c||"ECDH-ES"===c))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${c}`);{let i;({cek:n,encryptedKey:r,parameters:i}=await tn(c,h,e,this._cek,this._keyManagementParameters)),i&&(t&&e8 in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...i}:this.setUnprotectedHeader(i):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...i}:this.setProtectedHeader(i))}a=this._protectedHeader?u.encode(v(JSON.stringify(this._protectedHeader))):u.encode(""),this._aad?(o=v(this._aad),i=f(a,u.encode("."),u.encode(o))):i=a;let{ciphertext:l,tag:p,iv:y}=await eQ(h,this._plaintext,n,this._iv,i),g={ciphertext:v(l)};return y&&(g.iv=v(y)),p&&(g.tag=v(p)),r&&(g.encrypted_key=v(r)),o&&(g.aad=o),this._protectedHeader&&(g.protected=d.decode(a)),this._sharedUnprotectedHeader&&(g.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(g.header=this._unprotectedHeader),g}}class ta{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}class to{constructor(e){this._recipients=[],this._plaintext=e}addRecipient(e,t){let r=new ta(this,e,{crit:t?.crit});return this._recipients.push(r),r}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(){let e;if(!this._recipients.length)throw new k("at least one recipient must be added");if(1===this._recipients.length){let[e]=this._recipients,t=await new ti(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(e.unprotectedHeader).encrypt(e.key,{...e.options}),r={ciphertext:t.ciphertext,iv:t.iv,recipients:[{}],tag:t.tag};return t.aad&&(r.aad=t.aad),t.protected&&(r.protected=t.protected),t.unprotected&&(r.unprotected=t.unprotected),t.encrypted_key&&(r.recipients[0].encrypted_key=t.encrypted_key),t.header&&(r.recipients[0].header=t.header),r}for(let t=0;t<this._recipients.length;t++){let r=this._recipients[t];if(!en(this._protectedHeader,this._unprotectedHeader,r.unprotectedHeader))throw new k("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let n={...this._protectedHeader,...this._unprotectedHeader,...r.unprotectedHeader},{alg:i}=n;if("string"!=typeof i||!i)throw new k('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("dir"===i||"ECDH-ES"===i)throw new k('"dir" and "ECDH-ES" alg may only be used with a single recipient');if("string"!=typeof n.enc||!n.enc)throw new k('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(e){if(e!==n.enc)throw new k('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else e=n.enc;if(e4(k,new Map,r.options.crit,this._protectedHeader,n),void 0!==n.zip)throw new T('JWE "zip" (Compression Algorithm) Header Parameter is not supported.')}let t=eT(e),r={ciphertext:"",iv:"",recipients:[],tag:""};for(let n=0;n<this._recipients.length;n++){let i=this._recipients[n],a={};r.recipients.push(a);let o=({...this._protectedHeader,...this._unprotectedHeader,...i.unprotectedHeader}).alg.startsWith("PBES2")?2048+n:void 0;if(0===n){let e=await new ti(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(t).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(i.unprotectedHeader).setKeyManagementParameters({p2c:o}).encrypt(i.key,{...i.options,[e8]:!0});r.ciphertext=e.ciphertext,r.iv=e.iv,r.tag=e.tag,e.aad&&(r.aad=e.aad),e.protected&&(r.protected=e.protected),e.unprotected&&(r.unprotected=e.unprotected),a.encrypted_key=e.encrypted_key,e.header&&(a.header=e.header);continue}let{encryptedKey:s,parameters:c}=await tn(i.unprotectedHeader?.alg||this._protectedHeader?.alg||this._unprotectedHeader?.alg,e,i.key,t,{p2c:o});a.encrypted_key=v(s),(i.unprotectedHeader||c)&&(a.header={...i.unprotectedHeader,...c})}return r}}function ts(e,t){let r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new T(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}async function tc(e,t,r){if("sign"===r&&(t=await eI.normalizePrivateKey(t,e)),"verify"===r&&(t=await eI.normalizePublicKey(t,e)),h(t))return!function(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!F(e.algorithm,"HMAC"))throw $("HMAC");let r=parseInt(t.slice(2),10);if(G(e.algorithm.hash)!==r)throw $(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!F(e.algorithm,"RSASSA-PKCS1-v1_5"))throw $("RSASSA-PKCS1-v1_5");let r=parseInt(t.slice(2),10);if(G(e.algorithm.hash)!==r)throw $(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!F(e.algorithm,"RSA-PSS"))throw $("RSA-PSS");let r=parseInt(t.slice(2),10);if(G(e.algorithm.hash)!==r)throw $(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw $("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!F(e.algorithm,"ECDSA"))throw $("ECDSA");let r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw $(r,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}V(e,r)}(t,e,r),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError(Y(t,...Q));return c.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}throw TypeError(Y(t,...Q,"Uint8Array","JSON Web Key"))}let th=async(e,t,r,n)=>{let i=await tc(e,t,"verify");em(e,i);let a=ts(e,i.algorithm);try{return await c.subtle.verify(a,i,r,n)}catch{return!1}};async function tl(e,t,r){let n,i;if(!ei(e))throw new P("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new P('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new P("JWS Protected Header incorrect type");if(void 0===e.payload)throw new P("JWS Payload missing");if("string"!=typeof e.signature)throw new P("JWS Signature missing or incorrect type");if(void 0!==e.header&&!ei(e.header))throw new P("JWS Unprotected Header incorrect type");let a={};if(e.protected)try{let t=S(e.protected);a=JSON.parse(d.decode(t))}catch{throw new P("JWS Protected Header is invalid")}if(!en(a,e.header))throw new P("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let o={...a,...e.header},s=e4(P,new Map([["b64",!0]]),r?.crit,a,o),c=!0;if(s.has("b64")&&"boolean"!=typeof(c=a.b64))throw new P('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:h}=o;if("string"!=typeof h||!h)throw new P('JWS "alg" (Algorithm) Header Parameter missing or invalid');let l=r&&e9("algorithms",r.algorithms);if(l&&!l.has(h))throw new C('"alg" (Algorithm) Header Parameter value not allowed');if(c){if("string"!=typeof e.payload)throw new P("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new P("JWS Payload must be a string or an Uint8Array instance");let p=!1;"function"==typeof t?(t=await t(a,e),p=!0,eY(h,t,"verify"),ev(t)&&(t=await eB(t,h))):eY(h,t,"verify");let y=f(u.encode(e.protected??""),u.encode("."),"string"==typeof e.payload?u.encode(e.payload):e.payload);try{n=S(e.signature)}catch{throw new P("Failed to base64url decode the signature")}if(!await th(h,t,n,y))throw new M;if(c)try{i=S(e.payload)}catch{throw new P("Failed to base64url decode the payload")}else i="string"==typeof e.payload?u.encode(e.payload):e.payload;let g={payload:i};return(void 0!==e.protected&&(g.protectedHeader=a),void 0!==e.header&&(g.unprotectedHeader=e.header),p)?{...g,key:t}:g}async function tu(e,t,r){if(e instanceof Uint8Array&&(e=d.decode(e)),"string"!=typeof e)throw new P("Compact JWS must be a string or Uint8Array");let{0:n,1:i,2:a,length:o}=e.split(".");if(3!==o)throw new P("Invalid Compact JWS");let s=await tl({payload:i,protected:n,signature:a},t,r),c={payload:s.payload,protectedHeader:s.protectedHeader};return"function"==typeof t?{...c,key:s.key}:c}async function td(e,t,r){if(!ei(e))throw new P("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(ei))throw new P("JWS Signatures missing or incorrect type");for(let n of e.signatures)try{return await tl({header:n.header,payload:e.payload,protected:n.protected,signature:n.signature},t,r)}catch{}throw new M}var tf=e=>Math.floor(e.getTime()/1e3);let tp=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;var ty=e=>{let t;let r=tp.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let n=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*n);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*n);break;case"day":case"days":case"d":t=Math.round(86400*n);break;case"week":case"weeks":case"w":t=Math.round(604800*n);break;default:t=Math.round(31557600*n)}return"-"===r[1]||"ago"===r[4]?-t:t};let tg=e=>e.toLowerCase().replace(/^application\//,""),tm=(e,t)=>"string"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e)));var tw=(e,t,r={})=>{let n,i;try{n=JSON.parse(d.decode(t))}catch{}if(!ei(n))throw new R("JWT Claims Set must be a top-level JSON object");let{typ:a}=r;if(a&&("string"!=typeof e.typ||tg(e.typ)!==tg(a)))throw new _('unexpected "typ" JWT header value',n,"typ","check_failed");let{requiredClaims:o=[],issuer:s,subject:c,audience:h,maxTokenAge:l}=r,u=[...o];for(let e of(void 0!==l&&u.push("iat"),void 0!==h&&u.push("aud"),void 0!==c&&u.push("sub"),void 0!==s&&u.push("iss"),new Set(u.reverse())))if(!(e in n))throw new _(`missing required "${e}" claim`,n,e,"missing");if(s&&!(Array.isArray(s)?s:[s]).includes(n.iss))throw new _('unexpected "iss" claim value',n,"iss","check_failed");if(c&&n.sub!==c)throw new _('unexpected "sub" claim value',n,"sub","check_failed");if(h&&!tm(n.aud,"string"==typeof h?[h]:h))throw new _('unexpected "aud" claim value',n,"aud","check_failed");switch(typeof r.clockTolerance){case"string":i=ty(r.clockTolerance);break;case"number":i=r.clockTolerance;break;case"undefined":i=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:f}=r,p=tf(f||new Date);if((void 0!==n.iat||l)&&"number"!=typeof n.iat)throw new _('"iat" claim must be a number',n,"iat","invalid");if(void 0!==n.nbf){if("number"!=typeof n.nbf)throw new _('"nbf" claim must be a number',n,"nbf","invalid");if(n.nbf>p+i)throw new _('"nbf" claim timestamp check failed',n,"nbf","check_failed")}if(void 0!==n.exp){if("number"!=typeof n.exp)throw new _('"exp" claim must be a number',n,"exp","invalid");if(n.exp<=p-i)throw new I('"exp" claim timestamp check failed',n,"exp","check_failed")}if(l){let e=p-n.iat;if(e-i>("number"==typeof l?l:ty(l)))throw new I('"iat" claim timestamp check failed (too far in the past)',n,"iat","check_failed");if(e<0-i)throw new _('"iat" claim timestamp check failed (it should be in the past)',n,"iat","check_failed")}return n};async function tb(e,t,r){let n=await tu(e,t,r);if(n.protectedHeader.crit?.includes("b64")&&!1===n.protectedHeader.b64)throw new R("JWTs MUST NOT use unencoded payload");let i={payload:tw(n.protectedHeader,n.payload,r),protectedHeader:n.protectedHeader};return"function"==typeof t?{...i,key:n.key}:i}async function tv(e,t,r){let n=await e6(e,t,r),i=tw(n.protectedHeader,n.plaintext,r),{protectedHeader:a}=n;if(void 0!==a.iss&&a.iss!==i.iss)throw new _('replicated "iss" claim header parameter mismatch',i,"iss","mismatch");if(void 0!==a.sub&&a.sub!==i.sub)throw new _('replicated "sub" claim header parameter mismatch',i,"sub","mismatch");if(void 0!==a.aud&&JSON.stringify(a.aud)!==JSON.stringify(i.aud))throw new _('replicated "aud" claim header parameter mismatch',i,"aud","mismatch");let o={payload:i,protectedHeader:a};return"function"==typeof t?{...o,key:n.key}:o}class tE{constructor(e){this._flattened=new ti(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}let tS=async(e,t,r)=>{let n=await tc(e,t,"sign");return em(e,n),new Uint8Array(await c.subtle.sign(ts(e,n.algorithm),n,r))};class tA{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){let r;if(!this._protectedHeader&&!this._unprotectedHeader)throw new P("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!en(this._protectedHeader,this._unprotectedHeader))throw new P("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let n={...this._protectedHeader,...this._unprotectedHeader},i=e4(P,new Map([["b64",!0]]),t?.crit,this._protectedHeader,n),a=!0;if(i.has("b64")&&"boolean"!=typeof(a=this._protectedHeader.b64))throw new P('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:o}=n;if("string"!=typeof o||!o)throw new P('JWS "alg" (Algorithm) Header Parameter missing or invalid');eY(o,e,"sign");let s=this._payload;a&&(s=u.encode(v(s)));let c=f(r=this._protectedHeader?u.encode(v(JSON.stringify(this._protectedHeader))):u.encode(""),u.encode("."),s),h={signature:v(await tS(o,e,c)),payload:""};return a&&(h.payload=d.decode(s)),this._unprotectedHeader&&(h.header=this._unprotectedHeader),this._protectedHeader&&(h.protected=d.decode(r)),h}}class t_{constructor(e){this._flattened=new tA(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){let r=await this._flattened.sign(e,t);if(void 0===r.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}class tI{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setProtectedHeader(e){if(this.protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}class tC{constructor(e){this._signatures=[],this._payload=e}addSignature(e,t){let r=new tI(this,e,t);return this._signatures.push(r),r}async sign(){if(!this._signatures.length)throw new P("at least one signature must be added");let e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){let r=this._signatures[t],n=new tA(this._payload);n.setProtectedHeader(r.protectedHeader),n.setUnprotectedHeader(r.unprotectedHeader);let{payload:i,...a}=await n.sign(r.key,r.options);if(0===t)e.payload=i;else if(e.payload!==i)throw new P("inconsistent use of JWS Unencoded Payload (RFC7797)");e.signatures.push(a)}return e}}function tT(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}class tH{constructor(e={}){if(!ei(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:tT("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:tT("setNotBefore",tf(e))}:this._payload={...this._payload,nbf:tf(new Date)+ty(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:tT("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:tT("setExpirationTime",tf(e))}:this._payload={...this._payload,exp:tf(new Date)+ty(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:tf(new Date)}:e instanceof Date?this._payload={...this._payload,iat:tT("setIssuedAt",tf(e))}:"string"==typeof e?this._payload={...this._payload,iat:tT("setIssuedAt",tf(new Date)+ty(e))}:this._payload={...this._payload,iat:tT("setIssuedAt",e)},this}}class tk extends tH{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){let r=new t_(u.encode(JSON.stringify(this._payload)));if(r.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new R("JWTs MUST NOT use unencoded payload");return r.sign(e,t)}}class tP extends tH{setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){let r=new tE(u.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}let tR=(e,t)=>{if("string"!=typeof e||!e)throw new D(`${t} missing or invalid`)};async function tD(e,t){let r;if(!ei(e))throw TypeError("JWK must be an object");if(t??(t="sha256"),"sha256"!==t&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(e.kty){case"EC":tR(e.crv,'"crv" (Curve) Parameter'),tR(e.x,'"x" (X Coordinate) Parameter'),tR(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":tR(e.crv,'"crv" (Subtype of Key Pair) Parameter'),tR(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":tR(e.e,'"e" (Exponent) Parameter'),tR(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":tR(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new T('"kty" (Key Type) Parameter missing or unsupported')}let n=u.encode(JSON.stringify(r));return v(await l(t,n))}async function tO(e,t){t??(t="sha256");let r=await tD(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${r}`}async function tK(e,t){let r={...e,...t?.header};if(!ei(r.jwk))throw new P('"jwk" (JSON Web Key) Header Parameter must be a JSON object');let n=await eB({...r.jwk,ext:!0},r.alg);if(n instanceof Uint8Array||"public"!==n.type)throw new P('"jwk" (JSON Web Key) Header Parameter must be a public key');return n}function tN(e){return ei(e)}function tW(e){return"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}class tM{constructor(e){if(this._cached=new WeakMap,!(e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(tN)))throw new O("JSON Web Key Set malformed");this._jwks=tW(e)}async getKey(e,t){let{alg:r,kid:n}={...e,...t?.header},i=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new T('Unsupported "alg" value for a JSON Web Key Set')}}(r),a=this._jwks.keys.filter(e=>{let t=i===e.kty;if(t&&"string"==typeof n&&(t=n===e.kid),t&&"string"==typeof e.alg&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===r&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t}),{0:o,length:s}=a;if(0===s)throw new K;if(1!==s){let e=new N,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(let e of a)try{yield await tx(t,e,r)}catch{}},e}return tx(this._cached,o,r)}}async function tx(e,t,r){let n=e.get(t)||e.set(t,{}).get(t);if(void 0===n[r]){let e=await eB({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new O("JSON Web Key Set members must be public keys");n[r]=e}return n[r]}function tU(e){let t=new tM(e),r=async(e,r)=>t.getKey(e,r);return Object.defineProperties(r,{jwks:{value:()=>tW(t._jwks),enumerable:!0,configurable:!1,writable:!1}}),r}let tJ=async(e,t,r)=>{let n,i;let a=!1;"function"==typeof AbortController&&(n=new AbortController,i=setTimeout(()=>{a=!0,n.abort()},t));let o=await fetch(e.href,{signal:n?n.signal:void 0,redirect:"manual",headers:r.headers}).catch(e=>{if(a)throw new W;throw e});if(void 0!==i&&clearTimeout(i),200!==o.status)throw new A("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await o.json()}catch{throw new A("Failed to parse the JSON Web Key Set HTTP response as JSON")}};"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(a="jose/v5.9.6");let tj=Symbol();class tL{constructor(e,t){if(!(e instanceof URL))throw TypeError("url must be an instance of URL");if(this._url=new URL(e.href),this._options={agent:t?.agent,headers:t?.headers},this._timeoutDuration="number"==typeof t?.timeoutDuration?t?.timeoutDuration:5e3,this._cooldownDuration="number"==typeof t?.cooldownDuration?t?.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof t?.cacheMaxAge?t?.cacheMaxAge:6e5,t?.[tj]!==void 0){var r,n;this._cache=t?.[tj],r=t?.[tj],n=this._cacheMaxAge,!("object"!=typeof r||null===r||!("uat"in r)||"number"!=typeof r.uat||Date.now()-r.uat>=n)&&"jwks"in r&&ei(r.jwks)&&Array.isArray(r.jwks.keys)&&Array.prototype.every.call(r.jwks.keys,ei)&&(this._jwksTimestamp=this._cache.uat,this._local=tU(this._cache.jwks))}}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._local&&this.fresh()||await this.reload();try{return await this._local(e,t)}catch(r){if(r instanceof K&&!1===this.coolingDown())return await this.reload(),this._local(e,t);throw r}}async reload(){this._pendingFetch&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this._pendingFetch=void 0);let e=new Headers(this._options.headers);a&&!e.has("User-Agent")&&(e.set("User-Agent",a),this._options.headers=Object.fromEntries(e.entries())),this._pendingFetch||(this._pendingFetch=tJ(this._url,this._timeoutDuration,this._options).then(e=>{this._local=tU(e),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=e),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(e=>{throw this._pendingFetch=void 0,e})),await this._pendingFetch}}function tB(e,t){let r=new tL(e,t),n=async(e,t)=>r.getKey(e,t);return Object.defineProperties(n,{coolingDown:{get:()=>r.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>r.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>r.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!r._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>r._local?.jwks(),enumerable:!0,configurable:!1,writable:!1}}),n}let t$=tj;class tF extends tH{encode(){let e=v(JSON.stringify({alg:"none"})),t=v(JSON.stringify(this._payload));return`${e}.${t}.`}static decode(e,t){let r;if("string"!=typeof e)throw new R("Unsecured JWT must be a string");let{0:n,1:i,2:a,length:o}=e.split(".");if(3!==o||""!==a)throw new R("Invalid Unsecured JWT");try{if(r=JSON.parse(d.decode(S(n))),"none"!==r.alg)throw Error()}catch{throw new R("Invalid Unsecured JWT")}return{payload:tw(r,S(i),t),header:r}}}let tG=v,tV=S;function tz(e){let t;if("string"==typeof e){let r=e.split(".");(3===r.length||5===r.length)&&([t]=r)}else if("object"==typeof e&&e){if("protected"in e)t=e.protected;else throw TypeError("Token does not contain a Protected Header")}try{if("string"!=typeof t||!t)throw Error();let e=JSON.parse(d.decode(tV(t)));if(!ei(e))throw Error();return e}catch{throw TypeError("Invalid Token or Protected Header formatting")}}function tX(e){let t,r;if("string"!=typeof e)throw new R("JWTs must use Compact JWS serialization, JWT must be a string");let{1:n,length:i}=e.split(".");if(5===i)throw new R("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new R("Invalid JWT");if(!n)throw new R("JWTs must contain a payload");try{t=tV(n)}catch{throw new R("Failed to base64url decode the payload")}try{r=JSON.parse(d.decode(t))}catch{throw new R("Failed to parse the decoded payload as JSON")}if(!ei(r))throw new R("Invalid JWT Claims Set");return r}async function tY(e,t){let r,n,i;switch(e){case"HS256":case"HS384":case"HS512":r=parseInt(e.slice(-3),10),n={name:"HMAC",hash:`SHA-${r}`,length:r},i=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return x(new Uint8Array((r=parseInt(e.slice(-3),10))>>3));case"A128KW":case"A192KW":case"A256KW":n={name:"AES-KW",length:r=parseInt(e.slice(1,4),10)},i=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":n={name:"AES-GCM",length:r=parseInt(e.slice(1,4),10)},i=["encrypt","decrypt"];break;default:throw new T('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return c.subtle.generateKey(n,t?.extractable??!1,i)}function tq(e){let t=e?.modulusLength??2048;if("number"!=typeof t||t<2048)throw new T("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return t}async function tZ(e,t){let r,n;switch(e){case"PS256":case"PS384":case"PS512":r={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:tq(t)},n=["sign","verify"];break;case"RS256":case"RS384":case"RS512":r={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:tq(t)},n=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":r={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:tq(t)},n=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":r={name:"ECDSA",namedCurve:"P-256"},n=["sign","verify"];break;case"ES384":r={name:"ECDSA",namedCurve:"P-384"},n=["sign","verify"];break;case"ES512":r={name:"ECDSA",namedCurve:"P-521"},n=["sign","verify"];break;case"EdDSA":{n=["sign","verify"];let e=t?.crv??"Ed25519";switch(e){case"Ed25519":case"Ed448":r={name:e};break;default:throw new T("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{n=["deriveKey","deriveBits"];let e=t?.crv??"P-256";switch(e){case"P-256":case"P-384":case"P-521":r={name:"ECDH",namedCurve:e};break;case"X25519":case"X448":r={name:e};break;default:throw new T("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new T('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return c.subtle.generateKey(r,t?.extractable??!1,n)}async function tQ(e,t){return tZ(e,t)}async function t2(e,t){return tY(e,t)}var t0="WebCryptoAPI"},5853:function(e,t,r){r.d(t,{_T:function(){return i},ev:function(){return o},mG:function(){return a},pi:function(){return n}});var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function a(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}c((n=n.apply(e,t||[])).next())})}function o(e,t,r){if(r||2==arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError},59625:function(e,t,r){r.d(t,{Ue:function(){return d}});let n=e=>{let t;let r=new Set,n=(e,n)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=n?n:"object"!=typeof i||null===i)?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,a={setState:n,getState:i,getInitialState:()=>o,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},o=t=e(n,i,a);return a},i=e=>e?n(e):n;var a=r(2265),o=r(35195);let{useDebugValue:s}=a,{useSyncExternalStoreWithSelector:c}=o,h=!1,l=e=>e,u=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?i(e):e,r=(e,r)=>(function(e,t=l,r){r&&!h&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),h=!0);let n=c(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return s(n),n})(t,e,r);return Object.assign(r,t),r},d=e=>e?u(e):u}}]);