!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="afab3ba0-406b-4398-8605-9e37ebbfd601",e._sentryDebugIdIdentifier="sentry-dbid-afab3ba0-406b-4398-8605-9e37ebbfd601")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1607],{52552:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var r=n(57437),s=n(62869),o=n(62449);let a=e=>{let{size:t}=e,n=(0,o.Eh)(e=>e.exitConsole);return(0,r.jsx)(s.z,{variant:"outline",type:"button",size:t,onClick:n,children:"Exit"})}},91576:function(e,t,n){"use strict";n.d(t,{Sv:function(){return R},UL:function(){return _},cb:function(){return I},eX:function(){return r},hw:function(){return y},mL:function(){return T},t6:function(){return j},v7:function(){return C}});var r,s=n(57437),o=n(99478),a=n(66070),i=n(57346),l=n(5810),c=n(90432),d=n(21288),u=n(61062),f=n(72384),m=n(94508),p=n(62449),h=n(2265),g=n(49360),v=n(54188);(r||(r={})).AI_FIX="AI Fix";let{AI_FIX:E}=r,N={[u.N.NO_CODE_CHANGE]:[E],[u.N.CODE_DIFF]:[],[u.N.FILE_EDITED_WITHOUT_PERMISSION]:[E],[u.N.EXCLUDED_FILE_EDITED]:[E],[u.N.DEPENDENCY_INSTALL]:[],[u.N.IMMEDIATE_RUNTIME]:[E],[u.N.RUNTIME]:[E],[u.N.BUILD]:[E],[u.N.HTTP_CLIENT_ERROR]:[E],[u.N.HTTP_SERVER_ERROR]:[],[u.N.SUPABASE_EDGE_FUNCTION_ERROR]:[E],[u.N.CORS_ERROR]:[],[u.N.DEPLOY_SUPABASE_FUNCTIONS]:[E],[u.N.SUPABASE_SQL_ERROR]:[E],[u.N.SEARCH_REPLACE_FAILED]:[],[u.N.SEARCH_REPLACE_MISSING_FILE]:[],[u.N.CHANGED_MISSING_FILE]:[]},x=e=>{let t=(0,c.H$)(e),n=t.length>1?e=>"# Error number ".concat(e+1,":\n#################\n\n"):()=>"";return t.map((e,t)=>"".concat(n(t)).concat(e.error_message,"\n").concat(e.meta_data?"\n"+JSON.stringify(e.meta_data,null,2):"")).join("\n\n").replace(/\x1B\[[0-9;]*[JKmsu]/g,"")},_=e=>{let{errors:t,roundedTop:n=!0}=e;return(0,s.jsx)("div",{className:n?"mt-4":"",children:(0,s.jsx)("pre",{className:(0,m.cn)("w-full rounded-b-md border border-border bg-card p-4 text-sm text-muted-foreground",n?"mt-2 rounded-t-md":""),children:(0,s.jsx)("code",{className:"block w-full overflow-x-auto overflow-y-auto whitespace-pre-wrap",children:x(t)})})})},b=e=>{let{primary:t,isPending:n,onClick:r,text:a,...i}=e,l=(0,p.Eh)(e=>e.isSendChatMessageMutationPending);return(0,s.jsx)(o.z,{variant:t?"default":"muted",className:"p-2",size:"sm",onClick:r,disabled:l,loading:n,...i,children:a})},y=e=>{let{projectId:t,errors:n}=e,{mutate:r,isPending:s}=(0,v.d)({projectId:t,finalRedirectUrl:void 0});return{onClick:()=>{r({body:{id:(0,g.Z)(),message:"For the code present, I get the error below.\n\nPlease think step-by-step in order to resolve it.\n```\n".concat(x(n),"\n```\n"),mode:f.S.INSTANT,contains_error:!0,error_ids:n.map(e=>e.id)},projectId:t})},isPending:s}},I={"AI Fix":e=>{let{errors:t,projectId:n,primary:r,...o}=e,{onClick:a,isPending:i}=y({projectId:n,errors:t});return(0,s.jsx)(b,{primary:r,isPending:i,onClick:a,text:"Try to fix it",hotkey:"F",showHotkey:!0,...o})}},C={[u.N.BUILD]:"Build unsuccessful",[u.N.CODE_DIFF]:"Changes couldn't be applied",[u.N.DEPLOY_SUPABASE_FUNCTIONS]:"Couldn't deploy Supabase functions",[u.N.DEPENDENCY_INSTALL]:"Couldn't install dependency",[u.N.FILE_EDITED_WITHOUT_PERMISSION]:"Tried editing file without permission",[u.N.EXCLUDED_FILE_EDITED]:"Unwanted changes",[u.N.IMMEDIATE_RUNTIME]:"Oops, it looks like our AI had a bit of a hiccup and broke the app",[u.N.NO_CODE_CHANGE]:"Changes already applied",[u.N.RUNTIME]:"The app encountered an error",[u.N.HTTP_CLIENT_ERROR]:"The app encountered an error",[u.N.HTTP_SERVER_ERROR]:"The app encountered an error",[u.N.SUPABASE_EDGE_FUNCTION_ERROR]:"The app encountered an error",[u.N.CORS_ERROR]:"The app encountered an error",[u.N.SUPABASE_SQL_ERROR]:"An error occurred while applying the migration",[u.N.SEARCH_REPLACE_FAILED]:"Failed search-replace",[u.N.SEARCH_REPLACE_MISSING_FILE]:"Search-replace on missing file",[u.N.CHANGED_MISSING_FILE]:"Tried deleting or renaming non-existent file"},S={[u.N.CODE_DIFF]:"I couldn't apply your changes because the edit strategy I chose failed.",[u.N.FILE_EDITED_WITHOUT_PERMISSION]:"I couldn't apply your changes because I tried to edit a file that I don't have permission to edit.",[u.N.EXCLUDED_FILE_EDITED]:"I couldn't apply your changes because it resulted in unwanted changes",[u.N.NO_CODE_CHANGE]:"I couldn't apply your changes because the code changes I suggested were the same as the previous code."},j={[u.N.BUILD]:!0,[u.N.CODE_DIFF]:!0,[u.N.SUPABASE_EDGE_FUNCTION_ERROR]:!0,[u.N.DEPENDENCY_INSTALL]:!0,[u.N.DEPLOY_SUPABASE_FUNCTIONS]:!0,[u.N.HTTP_CLIENT_ERROR]:!0,[u.N.HTTP_SERVER_ERROR]:!0,[u.N.CORS_ERROR]:!0,[u.N.FILE_EDITED_WITHOUT_PERMISSION]:!0,[u.N.EXCLUDED_FILE_EDITED]:!0,[u.N.IMMEDIATE_RUNTIME]:!0,[u.N.NO_CODE_CHANGE]:!0,[u.N.RUNTIME]:!0,[u.N.SUPABASE_SQL_ERROR]:!0,[u.N.SEARCH_REPLACE_FAILED]:!0,[u.N.SEARCH_REPLACE_MISSING_FILE]:!0,[u.N.CHANGED_MISSING_FILE]:!0},R=e=>{let t=Array.from(new Set(e.flatMap(e=>N[e.type])));return t.sort((e,t)=>"AI Fix"===e?-1:"AI Fix"===t?1:0),t},w=e=>{var t;let{errors:n,projectId:r}=e,o=(0,p.Eh)(e=>e.setShowConsole),l=(0,p.Eh)(e=>e.setConsoleErrorContent),d=(0,p.Eh)(e=>e.exitConsole),u=(0,p.Eh)(e=>e.setActiveMessageId),f=(0,p.Eh)(e=>e.activeMessageId),g=(0,c.qV)({projectId:r,errorIds:(null==n?void 0:n.map(e=>e.id))||[],setErrors:e=>{}}),v=(0,p.Eh)(e=>e.consoleContentType),E=null==n?void 0:null===(t=n[0])||void 0===t?void 0:t.type,N=(0,h.useMemo)(()=>{let e=S[E];return e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:e}),(0,s.jsx)("p",{children:"Please rephrase your request or provide more details."})]}):null},[E]);if(!n||!g)return null;let x=n[0].message_id||void 0,_="error"===v&&x===f;return(0,s.jsxs)("div",{className:"mt-4 flex flex-col gap-4",children:[(0,s.jsx)(a.Zb,{className:(0,m.cn)("duration-125 w-full cursor-pointer p-2 transition-colors ease-in-out","border border-muted-border bg-muted","hover:border-border hover:bg-muted-hover",{"border-border bg-muted-active":_}),onClick:()=>{_?d():(u(x),l(n),o("error"))},children:(0,s.jsx)(a.aY,{className:"p-1",children:(0,s.jsx)("div",{className:"flex w-full flex-col items-start justify-start",children:(0,s.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(i.Z,{name:"warning",size:"large",className:"mr-2 text-warning"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Error"}),(0,s.jsx)("p",{className:"text-sm",children:C[n[0].type]})]})]}),(0,s.jsx)(i.Z,{name:"chevron_right",size:"large",className:"text-muted-foreground"})]})})})}),N]})},T=e=>{let{errors:t}=e,n=(0,l.vp)();return n?t?(0,s.jsx)(w,{errors:t,projectId:n}):null:(d.P.error("Project ID is required, this should never happen"),null)}},81004:function(e,t,n){"use strict";n.d(t,{q:function(){return l}});var r=n(57437),s=n(62869),o=n(62449),a=n(2265),i=n(92039);let l=(0,a.memo)(function(e){let{activeEdit:t,size:n}=e,a=(0,o.Eh)(e=>e.exitConsole),l=(0,o.Eh)(e=>e.isSomeRevertMutationPending),{mutate:c,isPending:d}=(0,i.I)({onSuccess:a});return(0,r.jsx)(s.z,{variant:"ghost",className:"bg-accent text-secondary-foreground",size:n,loading:d,disabled:!t||l,type:"button",onClick:()=>c({edit:t}),children:"Restore this version"})});l.displayName="RestoreCommitButton"},72918:function(e,t,n){"use strict";var r=n(57437),s=n(62869),o=n(26110),a=n(57346),i=n(76818),l=n(14438),c=n(36710),d=n(5810),u=n(62449),f=n(2265);t.Z=()=>{let e=(0,d.DZ)(),[t,n]=(0,f.useState)(!1),[m,p]=(0,f.useState)(""),h=(0,c.O)(),g=(0,u.Eh)(e=>e.project);f.useEffect(()=>{(null==g?void 0:g.custom_instructions)&&p(g.custom_instructions)},[g]);let v=async()=>{try{await h.put("/projects/".concat(e,"/custom_instructions"),{custom_instructions:m}),l.Am.success("Custom instructions updated",{description:"Your custom instructions have been saved successfully."}),n(!1)}catch(e){l.Am.error("Error",{description:"Failed to update custom instructions. Please try again."})}};return(0,r.jsxs)(o.Vq,{open:t,onOpenChange:n,children:[(0,r.jsx)(o.hg,{asChild:!0,children:(0,r.jsxs)(s.z,{className:"gap-2 whitespace-nowrap",variant:"outline",size:"sm",onClick:()=>n(!0),children:[(0,r.jsx)(a.Z,{name:"school",className:"text-muted-foreground"}),"Manage knowledge"]})}),(0,r.jsxs)(o.cZ,{className:"sm:max-w-[1000px]",children:[(0,r.jsx)(o.fK,{children:(0,r.jsx)(o.$N,{children:"Manage Knowledge"})}),(0,r.jsxs)(o.Be,{children:["Add custom context and instructions for your project. Lovable will use it in every edit. Use it to:",(0,r.jsxs)("ul",{className:"mt-2 list-disc pl-5",children:[(0,r.jsx)("li",{children:"Define project-specific rules or guidelines"}),(0,r.jsx)("li",{children:"Set coding style preferences (e.g., indentation, naming conventions)"}),(0,r.jsx)("li",{children:"Include external documentation or style guides"})]})]}),(0,r.jsx)(i.g,{value:m,onChange:e=>p(e.target.value),placeholder:"Enter your custom instructions and context here...",className:"h-[500px]"}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(s.z,{onClick:v,children:"Save"})})]})]})}},97459:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(78099),s=n(5978),o=n(2265),a=n(20141);let i=e=>{let{projectId:t,limit:n,reverted:i,constraints:l,disable:c}=e,d=(0,o.useMemo)(()=>{if(!t)return null;let e=[];return void 0!==n&&e.push((0,s.b9)(n)),void 0!==i&&e.push((0,s.ar)("reverted","==",i)),(0,s.IO)((0,s.hJ)(r.db,"projects",t,"edits"),...e,...l||[],(0,s.Xo)("created_at","asc"))},[n,t,i,l]),[u,f,m]=(0,a.d4)(d);return(0,o.useMemo)(()=>c||!d?{edits:[],isLoading:!1,isInitiated:!!u}:{edits:(u||[]).map((e,t)=>({...e,number:t+1})),isLoading:f,isInitiated:!!u},[c,f,d,u])}},92039:function(e,t,n){"use strict";n.d(t,{I:function(){return c}});var r=n(14438),s=n(62449),o=n(21770),a=n(21288),i=n(5810),l=n(36710);let c=e=>{let t=(0,l.O)(),n=(0,i.DZ)(),c=async e=>{let{edit:r,dry_run:s,via_undo:o}=e,a=r.id;r.revert_target_edit_id&&(a=r.revert_target_edit_id);let i={edit_id:a,dry_run:s,via_undo:o};return t.post("/projects/".concat(n,"/revert-to-edit"),i)};return(0,o.D)({mutationFn:c,onMutate:()=>{s.Eh.setState({isSomeRevertMutationPending:!0})},onSuccess:(t,n)=>{if(!n.via_undo){let e=t.commit_message;void 0===e&&t.tags&&(e=t.tags.summary);let n=e?"Restored to earlier version: ".concat(e):"Restored to earlier version";r.Am.success("Success",{description:n})}null==e||e.onSuccess()},onError:e=>{a.P.error("could_not_revert_to_earlier_version",{error:e}),r.Am.error("Could not revert to earlier version",{description:e.data.detail})},onSettled:()=>{s.Eh.setState({isSomeRevertMutationPending:!1})}})}},63420:function(e,t,n){"use strict";n.d(t,{P:function(){return h},v:function(){return g}});var r=n(57437),s=n(14438),o=n(36710),a=n(32582),i=n(26034),l=n(24089),c=n(62449),d=n(6827),u=n(99376),f=n(2265),m=n(46214);let p=(0,f.createContext)(null);function h(e){let{children:t,baseSandboxUrl:n,refreshPreview:h,setDevServerEnabled:g}=e,{tab:v}=(0,u.useParams)(),E=(0,d.W)(e=>e.setFile),N=(0,d.W)(e=>e.reset),x=(0,d.W)(e=>e.pendingChanges),_=(0,d.W)(e=>e.clearPendingChanges),b=(0,f.useRef)(null),y=(0,c.Eh)(e=>{var t;return null===(t=e.project)||void 0===t?void 0:t.id}),I=(0,l.D)(),C=(0,o.O)(),S=(0,d.W)(e=>e.files),j=(0,f.useMemo)(()=>Object.entries(S),[S]),R=(0,d.W)(e=>e.uploads),[w,T]=(0,f.useState)(!1),[P,D]=(0,f.useState)(!1),[A,O]=(0,f.useState)(null),[F,k]=(0,f.useState)([]),[L,U]=(0,f.useState)([]),z=(0,f.useCallback)(()=>{j&&k((0,a.x2)(j))},[j]);(0,f.useEffect)(()=>{z()},[z]);let[M,B]=(0,f.useState)(!1),H=(0,f.useCallback)(()=>{B(!0),g(!0)},[g,B]);(0,f.useEffect)(()=>{if(!M||!n)return;let e=new URL("/_sandbox/code/ws",n);return e.protocol=e.protocol.replace("http","ws"),b.current=new WebSocket(e),b.current.onmessage=e=>{try{let{type:t,data:n}=JSON.parse(e.data);if("init_code"===t)N(),T(!0),n.forEach(e=>{let[t,n]=e;E(t,n)});else if("file_update"===t){let e=d.W.getState().files;n.forEach(t=>{let[n,r]=t;e[n]!==r&&E(n,r)})}}catch(e){console.error("Error processing WebSocket message:",e)}},b.current.onerror=e=>{console.error("WebSocket error:",e)},()=>{var e;null===(e=b.current)||void 0===e||e.close(),b.current=null}},[n,N,E,M,v]);let X=(0,f.useCallback)(async function(e){let{commitMessage:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m.ZP.capture("visual_edits:sync_started");let n=Object.entries(e);if(!y)throw Error("No project id");if(0===n.length)throw Error("No changes to sync");try{let e=await Promise.all(R.map(e=>(0,i.S)(C,{dir_name:e.dir_name,file_name:e.id}).then(t=>({download_url:t.url,file_id:e.file_name}))));if(!(await I.post("/projects/".concat(y,"/edit-code"),{changes:n.map(e=>{let[t,n]=e;return{path:t,content:n}}),uploads:e,commit_message:t})).ok)throw Error("Failed to sync code");_()}catch(e){console.error("Error syncing code:",e),m.ZP.capture("visual_edits:sync_failed",{error:e instanceof Error?e.message:"Unknown error",changes:null==n?void 0:n.map(e=>{let[t,n]=e;return[t,n.length]}),project_id:y}),s.Am.error("Error syncing code",{description:"Please try again later"})}},[y,R,I,_,C]),W=Object.keys(x).length>0;return(0,r.jsx)(p.Provider,{value:{syncCode:X,ast:F,code:j,generateAst:z,repoInaccessibleDialogOpen:P,setRepoInaccessibleDialogOpen:D,refreshPreview:h,enableServer:H,history:L,setHistory:U,currentClassName:A,setCurrentClassName:O,hasUnsavedChanges:W,hasInitialCode:w},children:t})}function g(){let e=(0,f.useContext)(p);if(!e)throw Error("useSandboxCode must be used within a SandboxCodeProvider");return{code:e.code,syncCode:e.syncCode,ast:e.ast,generateAst:e.generateAst,repoInaccessibleDialogOpen:e.repoInaccessibleDialogOpen,setRepoInaccessibleDialogOpen:e.setRepoInaccessibleDialogOpen,refreshPreview:e.refreshPreview,enableServer:e.enableServer,history:e.history,setHistory:e.setHistory,currentClassName:e.currentClassName,setCurrentClassName:e.setCurrentClassName,hasUnsavedChanges:e.hasUnsavedChanges,hasInitialCode:e.hasInitialCode}}},49968:function(e,t,n){"use strict";n.d(t,{U1:function(){return l},dO:function(){return a},fA:function(){return c},oo:function(){return u},pr:function(){return d}});var r=n(54257),s=n(21288),o=n(2265);let a=e=>{let[t,n]=(0,o.useState)(null),[r,a]=(0,o.useState)(null);(0,o.useEffect)(()=>{let o=(e,t)=>{let n=e.target;for(;n&&!n.getAttribute(t);)n=n.parentElement;return n},i=e=>{let t=o(e,"data-message-id"),r=o(e,"data-langsmith-url");t?n(t.getAttribute("data-message-id")):n(null),r?a(r.getAttribute("data-langsmith-url")):a(null)},l=n=>{if(n.altKey)switch(n.code){case"KeyC":t&&navigator.clipboard.writeText(t).then(()=>{s.P.info("message_id_copied",{messageId:t})}).catch(e=>s.P.error("Failed to copy message ID: ",e));break;case"KeyL":r&&(s.P.info("debug_url",{url:r}),window.open(r,"_blank"));break;case"KeyF":if(t){let n=d(e,t);s.P.info("debug_firestore_url",{url:n}),window.open(n,"_blank")}}};return document.addEventListener("mouseover",i),document.addEventListener("keydown",l),()=>{document.removeEventListener("mouseover",i),document.removeEventListener("keydown",l)}},[t,r,e])},i=()=>"https://console.firebase.google.com/u/0/project/".concat(r.q.projectId,"/firestore/databases/-default-/data"),l=e=>"".concat(i(),"/~2Fprojects~2F").concat(e),c=e=>e?"".concat(i(),"/~2Fusers~2F").concat(e):"",d=(e,t)=>"".concat(l(e),"~2Ftrajectory~2F").concat(t),u=(e,t)=>"".concat(l(e),"~2Fedits~2F").concat(t)},68687:function(e,t,n){"use strict";n.d(t,{FeatureFlagsInitializer:function(){return l},ZW:function(){return i},bW:function(){return o},ye:function(){return a}});var r=n(23664),s=n(2265);let o=(0,n(59625).Ue)((e,t)=>({flags:{},setFlags:t=>e({flags:t,initialized:!0}),getFlag:e=>{var n;let{flags:r}=t();return null!==(n=r[e])&&void 0!==n&&n},initialized:!1})),a=e=>o(t=>t.getFlag(e)),i=()=>o(e=>e.initialized),l=()=>{let e=o(e=>e.setFlags),t=(0,r.ND)();return(0,s.useEffect)(()=>{var n;e(null!==(n=null==t?void 0:t.reduce((e,t)=>(e[t]=!0,e),{}))&&void 0!==n?n:{})},[t,e]),null}},99478:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var r=n(57437),s=n(62869),o=n(44481),a=n(94508),i=n(2265);let l=e=>{let{hotkey:t,className:n}=e;return(0,r.jsx)("kbd",{className:(0,a.cn)("border-current/30 ml-1 flex h-4 items-center rounded-sm border px-1 text-[9px] font-semibold text-inherit transition-colors group-hover:border-foreground",n),children:t.toUpperCase()})},c=i.forwardRef((e,t)=>{let{hidden:n=!1,disabled:i=!1,hotkey:c,showHotkey:d=!1,onClick:u,hotkeyOptions:f,className:m,...p}=e;return((0,o.y1)(c||"",e=>{e.preventDefault(),u&&u(e)},{enabled:!i,...f},[u]),n)?null:(0,r.jsxs)(s.z,{ref:t,disabled:i,onClick:u,...p,className:(0,a.cn)("group",m),children:[p.children,d&&c&&(0,r.jsx)(l,{hotkey:c})]})});c.displayName="HotkeyButton"},39484:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(57437),s=n(94508),o=n(51817);let a=e=>{let{text:t,className:n}=e;return(0,r.jsxs)("div",{className:(0,s.cn)("mt-1 flex items-center gap-2 text-sm opacity-70",n),children:[(0,r.jsx)("div",{className:"my-1",children:(0,r.jsx)(o.Z,{className:"animate-spin",size:"1em"})}),(0,r.jsx)("div",{children:t})]})}},27410:function(e,t,n){"use strict";var r=n(57437),s=n(81103);n(2265),t.Z=e=>{let{children:t,label:n,side:o="bottom"}=e;return(0,r.jsx)(s.pn,{children:(0,r.jsxs)(s.u,{children:[(0,r.jsx)(s.aJ,{asChild:!0,children:t}),(0,r.jsx)(s._v,{className:"z-[2001]",side:o,children:n})]})})}},55721:function(e,t,n){"use strict";n.d(t,{h_:function(){return u},bO:function(){return x},AW:function(){return E},Xi:function(){return N},Ju:function(){return b},cq:function(){return m},_x:function(){return h},qB:function(){return _},VD:function(){return y},KM:function(){return I},Ph:function(){return p},TG:function(){return v},kt:function(){return g},$F:function(){return f}});var r=n(57437),s=n(94508),o=n(70085),a=n(20653),i=n(2265);class l extends i.Component{static getDerivedStateFromError(e){return{hasError:!0,componentStack:e.stack||"",error:e}}componentDidCatch(e,t){this.setState({componentStack:t.componentStack||"",error:e}),console.log({error:e,errorInfo:t})}render(){if(this.state.hasError){var e;return(0,r.jsxs)("div",{style:{position:"absolute",top:0,left:0,zIndex:1e4,backgroundColor:"red"},children:[(0,r.jsx)("h2",{children:null===(e=this.state.error)||void 0===e?void 0:e.message}),(0,r.jsx)("p",{style:{whiteSpace:"pre-wrap"},children:this.state.componentStack})]})}return this.props.children}constructor(e){super(e),this.state={hasError:!1,componentStack:"",error:null}}}var c=n(26110),d=n(57346);let u=e=>{let{...t}=e;return(0,r.jsx)(l,{children:(0,r.jsx)(c.MJ.Provider,{value:{allowNestedDialog:!1},children:(0,r.jsx)(o.fC,{...t})})})},f=o.xz;o.ZA;let m=o.Uv,p=o.Tr,h=o.Ee,g=i.forwardRef((e,t)=>{let{className:n,inset:i,children:l,hideChevron:c,...d}=e;return(0,r.jsxs)(o.fF,{ref:t,className:(0,s.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",i&&"pl-8",n),...d,children:[l,!c&&(0,r.jsx)(a.XCv,{className:"ml-auto"})]})});g.displayName=o.fF.displayName;let v=i.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(o.tu,{ref:t,className:(0,s.cn)("z-[10000] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...a})});v.displayName=o.tu.displayName;let E=i.forwardRef((e,t)=>{let{className:n,sideOffset:a=4,...i}=e;return(0,r.jsx)(o.Uv,{children:(0,r.jsx)(o.VY,{ref:t,sideOffset:a,className:(0,s.cn)("z-[10000] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...i})})});E.displayName=o.VY.displayName;let N=i.forwardRef((e,t)=>{let{className:n,inset:a,...i}=e;return(0,r.jsx)(o.ck,{ref:t,className:(0,s.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0",a&&"pl-8",n),...i})});N.displayName=o.ck.displayName;let x=i.forwardRef((e,t)=>{let{className:n,children:i,checked:l,...c}=e;return(0,r.jsxs)(o.oC,{ref:t,className:(0,s.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),checked:l,...c,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(o.wU,{children:(0,r.jsx)(a.nQG,{className:"h-4 w-4"})})}),i]})});x.displayName=o.oC.displayName;let _=i.forwardRef((e,t)=>{let{className:n,children:a,selectedIndicatorClassName:i,...l}=e;return(0,r.jsxs)(o.Rk,{ref:t,className:(0,s.cn)("relative flex cursor-default select-none items-center justify-start gap-x-1 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),...l,children:[a,(0,r.jsx)(o.wU,{children:(0,r.jsx)(d.Z,{name:"check_small",size:"default",className:(0,s.cn)("ml-auto",i)})})]})});_.displayName=o.Rk.displayName;let b=i.forwardRef((e,t)=>{let{className:n,inset:a,...i}=e;return(0,r.jsx)(o.__,{ref:t,className:(0,s.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",n),...i})});b.displayName=o.__.displayName;let y=i.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(o.Z0,{ref:t,className:(0,s.cn)("-mx-1 my-1 h-px bg-border",n),...a})});y.displayName=o.Z0.displayName;let I=e=>{let{className:t,...n}=e;return(0,r.jsx)("span",{className:(0,s.cn)("ml-auto text-xs tracking-widest opacity-60",t),...n})};I.displayName="DropdownMenuShortcut"},15681:function(e,t,n){"use strict";n.d(t,{NI:function(){return g},Wi:function(){return u},l0:function(){return c},lX:function(){return h},pf:function(){return v},xJ:function(){return p},zG:function(){return E}});var r=n(57437),s=n(2265),o=n(37053),a=n(29501),i=n(94508),l=n(26815);let c=a.RV,d=s.createContext({}),u=e=>{let{...t}=e;return(0,r.jsx)(d.Provider,{value:{name:t.name},children:(0,r.jsx)(a.Qr,{...t})})},f=()=>{let e=s.useContext(d),t=s.useContext(m),{getFieldState:n,formState:r}=(0,a.Gc)(),o=n(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...o}},m=s.createContext({}),p=s.forwardRef((e,t)=>{let{className:n,...o}=e,a=s.useId();return(0,r.jsx)(m.Provider,{value:{id:a},children:(0,r.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",n),...o})})});p.displayName="FormItem";let h=s.forwardRef((e,t)=>{let{className:n,...s}=e,{error:o,formItemId:a}=f();return(0,r.jsx)(l._,{ref:t,className:(0,i.cn)(o&&"",n),htmlFor:a,...s})});h.displayName="FormLabel";let g=s.forwardRef((e,t)=>{let{...n}=e,{error:s,formItemId:a,formDescriptionId:i,formMessageId:l}=f();return(0,r.jsx)(o.g7,{ref:t,id:a,"aria-describedby":s?"".concat(i," ").concat(l):"".concat(i),"aria-invalid":!!s,...n})});g.displayName="FormControl";let v=s.forwardRef((e,t)=>{let{className:n,...s}=e,{formDescriptionId:o}=f();return(0,r.jsx)("p",{ref:t,id:o,className:(0,i.cn)("text-[0.8rem] text-muted-foreground",n),...s})});v.displayName="FormDescription";let E=s.forwardRef((e,t)=>{let{className:n,children:s,...o}=e,{error:a,formMessageId:l}=f(),c=a?String(null==a?void 0:a.message):s;return c?(0,r.jsx)("p",{ref:t,id:l,className:(0,i.cn)("text-[0.8rem] text-xs font-medium text-destructive",n),...o,children:c}):null});E.displayName="FormMessage"},12339:function(e,t,n){"use strict";n.d(t,{SP:function(){return c},dr:function(){return l},mQ:function(){return i},nU:function(){return d}});var r=n(57437),s=n(2265),o=n(20271),a=n(94508);let i=o.fC,l=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(o.aV,{ref:t,className:(0,a.cn)("inline-flex h-9 items-center justify-center rounded-lg p-1 text-muted-foreground",n),...s})});l.displayName=o.aV.displayName;let c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(o.xz,{ref:t,className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",n),...s})});c.displayName=o.xz.displayName;let d=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(o.VY,{ref:t,className:(0,a.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...s})});d.displayName=o.VY.displayName},63611:function(e,t,n){"use strict";n.d(t,{E:function(){return l},Z:function(){return c}});var r=n(57437),s=n(2265),o=n(10687),a=n(77712),i=n(94508);let l=(0,a.j)("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-accent focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:n,variant:s,size:a,...c}=e;return(0,r.jsx)(o.f,{ref:t,className:(0,i.cn)(l({variant:s,size:a,className:n})),...c})});c.displayName=o.f.displayName},81103:function(e,t,n){"use strict";n.d(t,{_v:function(){return d},aJ:function(){return c},pn:function(){return i},u:function(){return l}});var r=n(57437),s=n(2265),o=n(61312),a=n(94508);let i=o.zt,l=o.fC,c=o.xz,d=s.forwardRef((e,t)=>{let{className:n,sideOffset:s=4,...i}=e;return(0,r.jsx)(o.h_,{children:(0,r.jsx)(o.VY,{ref:t,sideOffset:s,className:(0,a.cn)("z-[10000] overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...i})})});d.displayName=o.VY.displayName},6478:function(e,t,n){"use strict";n.d(t,{F:function(){return a}});var r=n(57437),s=n(81103),o=n(2265);let a=e=>{let[t,n]=(0,o.useState)(!1),a=(0,o.useRef)(),i=(0,o.useCallback)(e=>{e&&(clearTimeout(a.current),navigator.clipboard.writeText(e),n(!0),a.current=setTimeout(()=>{n(!1)},1e3))},[]);return n=>{let{TriggerComponent:o,textToCopy:a,copiedFeedbackText:l="Copied!"}=n;return(0,r.jsx)(s.pn,{children:(0,r.jsxs)(s.u,{open:t,children:[(0,r.jsx)(s.aJ,{onClick:t=>{(null==e||!e.altKey||t.altKey)&&a&&i(a)},asChild:!0,className:"hello",children:(0,r.jsx)(o,{})}),(0,r.jsx)(s._v,{children:(0,r.jsx)("p",{children:l})})]})})}}},24089:function(e,t,n){"use strict";n.d(t,{D:function(){return a}});var r=n(52558),s=n(2265);let o=(0,n(25057).t)();function a(){let{authUser:e}=(0,r.E)(),t=(0,s.useCallback)(async(t,n)=>{let r=null==e?void 0:e.idToken;return fetch("".concat(o).concat(t),{method:"POST",body:JSON.stringify(n),headers:{Authorization:"Bearer ".concat(r),Accept:"application/json","Content-Type":"application/json"},mode:"cors"})},[e]);return{post:t,get:(0,s.useCallback)(async t=>{let n=null==e?void 0:e.idToken;return fetch("".concat(o).concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(n),Accept:"application/json","Content-Type":"application/json"},mode:"cors"})},[e]),put:(0,s.useCallback)(async(t,n)=>{let r=null==e?void 0:e.idToken;return fetch("".concat(o).concat(t),{method:"PUT",body:JSON.stringify(n),headers:{Authorization:"Bearer ".concat(r),Accept:"application/json","Content-Type":"application/json"},mode:"cors"})},[e]),delete:(0,s.useCallback)(async t=>{let n=null==e?void 0:e.idToken;return fetch("".concat(o).concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(n)},mode:"cors"})},[e])}}},32582:function(e,t,n){"use strict";n.d(t,{EE:function(){return p},H2:function(){return u},R5:function(){return l},Rw:function(){return i},Xu:function(){return d},cB:function(){return f},x2:function(){return a}});var r=n(97569),s=n(76624),o=n(98891);function a(e){let t=[];return e.map(e=>{let n,[s,o]=e;if(s.endsWith(".tsx")||s.endsWith(".ts")||s.endsWith(".jsx")||s.endsWith(".js")){try{n=(0,r.parse)(o,{sourceFilename:s,sourceType:"module",plugins:["jsx","typescript"],allowImportExportEverywhere:!0})}catch(e){return}t.push({filePath:s,ast:n})}}),t}function i(e,t){let n=e.children.find(e=>o.isJSXText(e));n?n.value=t:e.children.unshift(o.jsxText(t))}function l(e,t){Object.keys(t).forEach(n=>{e.openingElement.attributes=e.openingElement.attributes.filter(e=>{var t;return o.isJSXAttribute(e)&&(null===(t=e.name)||void 0===t?void 0:t.name)!==n}),e.openingElement.attributes.push(o.jsxAttribute(o.jsxIdentifier(n),o.stringLiteral(t[n])))})}let c=e=>o.isStringLiteral(e)?e.value:null;function d(e){let t=e.openingElement.attributes.find(e=>o.isJSXAttribute(e)&&"className"===e.name.name);return void 0===t?"":(null==t?void 0:t.value)?c(t.value):null}let u=(e,t)=>{let n=t.find(t=>t.filePath===e.filePath);if(!n)return!1;let r=!1;return(0,s.default)(n.ast,{JSXElement(t){var n;if((null===(n=t.node.loc)||void 0===n?void 0:n.start.line)===e.lineNumber&&o.isJSXElement(t.node)){let e=t.node.children;r=1===e.length&&o.isJSXText(e[0]),t.stop()}}}),r},f=(e,t,n)=>{let r=t.find(t=>t.filePath===e.filePath);if(!r)return!1;let a=!1;return(0,s.default)(r.ast,{JSXElement(t){var r;(null===(r=t.node.loc)||void 0===r?void 0:r.start.line)===e.lineNumber&&o.isJSXElement(t.node)&&(a=t.node.openingElement.attributes.some(e=>{var t;return o.isJSXAttribute(e)&&o.isStringLiteral(e.value)&&(null===(t=e.name)||void 0===t?void 0:t.name)===n}),t.stop())}}),a},m=(e,t,n)=>{let r=n.find(e=>e.filePath===t);if(!r)return null;let o=null;return(0,s.default)(r.ast,{JSXElement(t){var n;(null===(n=t.node.loc)||void 0===n?void 0:n.start.line)===e&&(o=t.node,t.stop())}}),o},p=(e,t)=>{let n=m(e.lineNumber,e.filePath,t);return n?d(n):null}},76906:function(e,t,n){"use strict";n.d(t,{t:function(){return s}});var r=n(25566);let s=e=>{let{projectId:t,projectName:n,useCacheBuster:s,sha:o}=e;if(!t&&!n)throw Error("projectId or projectName must be provided");if(t&&n)throw Error("projectId and projectName cannot both be provided");let a=r.env.NEXT_PUBLIC_PROXY_WORKER_PROTOCOL||"https",i=r.env.NEXT_PUBLIC_PROXY_WORKER_PORT?":".concat(r.env.NEXT_PUBLIC_PROXY_WORKER_PORT):"",l=o?"-".concat(o.slice(0,8)):"",c=new URL("".concat(a,"://").concat(void 0!==n?"preview":"id-preview").concat(l,"--").concat(n||t,".").concat("lovable.app").concat(i));return s&&c.searchParams.set("cache",Date.now().toString()),c.toString()}},96771:function(e,t,n){"use strict";var r,s,o,a;n.d(t,{I:function(){return r}}),(o=(s=r||(r={})).type||(s.type={})).AI_UPDATE="ai_update",o.REVERT="revert",o.INITIAL="initial",o.DEVELOPER_UPDATE="developer_update",(a=s.feedback||(s.feedback={})).POSITIVE="positive",a.NEGATIVE="negative",a.NO_FEEDBACK="no_feedback"},72384:function(e,t,n){"use strict";var r,s;n.d(t,{S:function(){return r}}),(s=r||(r={})).AGENT="agent",s.INSTANT="instant"},6827:function(e,t,n){"use strict";n.d(t,{W:function(){return a}});var r=n(59625),s=n(4391);let o={files:{},pendingChanges:{},isLoading:!1,isSyncing:!1,lastSyncTimestamp:void 0,syncError:void 0,uploads:[]},a=(0,r.Ue)()((0,s.n)((e,t)=>({...o,setFile:(t,n)=>e(e=>({files:{...e.files,[t]:n}})),removeFile:t=>e(e=>{let{[t]:n,...r}=e.files;return{files:r}}),updateFileContent:(t,n)=>e(e=>({files:{...e.files,[t]:n}})),setSyncing:t=>e({isSyncing:t,lastSyncTimestamp:t?void 0:Date.now()}),setSyncError:t=>e({syncError:t,isSyncing:!1}),setLoading:t=>e({isLoading:t}),addPendingChange:(t,n)=>e(e=>({pendingChanges:{...e.pendingChanges,[t]:n}})),removePendingChange:t=>e(e=>{let{[t]:n,...r}=e.pendingChanges;return{pendingChanges:r}}),clearPendingChanges:()=>e({pendingChanges:{}}),hasUnsavedChanges:()=>{let{pendingChanges:e}=t();return Object.keys(e).length>0},reset:()=>e({...o}),addUpload:t=>e(e=>({uploads:[...e.uploads,t]})),clearUploads:()=>e({uploads:[]})})))},55214:function(e){e.exports={cursor:"PromptBox_cursor__MuO9l",blink:"PromptBox_blink__F53p4",customProse:"PromptBox_customProse__C94Rw"}}}]);